/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.0-beta.98
 */
import{q as e,c as n}from"./p-0d071f85.js";const t="calciteInternalLabelConnected",c="calciteInternaLabelDisconnected",a=new WeakMap,l=new WeakMap,o=new WeakMap,i=new Set;function s(t){const c=(t=>{const{id:l}=t,a=l&&e(t,{selector:`calcite-label[for="${l}"]`});if(a)return a;const i=n(t,"calcite-label");return!i||function(e,t){let n;const l="custom-element-ancestor-check",a=l=>{l.stopImmediatePropagation();const a=l.composedPath();n=a.slice(a.indexOf(t),a.indexOf(e))};return e.addEventListener(l,a,{once:!0}),t.dispatchEvent(new CustomEvent(l,{composed:!0,bubbles:!0})),e.removeEventListener(l,a),n.filter((n=>n!==t&&n!==e)).filter((e=>{var t;return null===(t=e.tagName)||void 0===t?void 0:t.includes("-")})).length>0}(i,t)?null:i})(t.el);if(a.has(c)||!c&&i.has(t))return;const s=f.bind(t);if(c){t.labelEl=c;const e=d.bind(t);a.set(t.labelEl,e),t.labelEl.addEventListener("calciteInternalLabelClick",e),i.delete(t),document.removeEventListener("calciteInternalLabelConnected",l.get(t)),o.set(t,s),document.addEventListener("calciteInternaLabelDisconnected",s)}else i.has(t)||(s(),document.removeEventListener("calciteInternaLabelDisconnected",o.get(t)))}function r(e){if(i.delete(e),document.removeEventListener("calciteInternalLabelConnected",l.get(e)),document.removeEventListener("calciteInternaLabelDisconnected",o.get(e)),l.delete(e),o.delete(e),!e.labelEl)return;const t=a.get(e.labelEl);e.labelEl.removeEventListener("calciteInternalLabelClick",t),a.delete(e.labelEl)}function u(e){var t,n;return e.label||(null===(n=null===(t=e.labelEl)||void 0===t?void 0:t.textContent)||void 0===n?void 0:n.trim())||""}function d(e){this.disabled||this.el.contains(e.detail.sourceEvent.target)||this.onLabelClick(e)}function b(){i.has(this)&&s(this)}function f(){i.add(this);const e=l.get(this)||b.bind(this);l.set(this,e),document.addEventListener("calciteInternalLabelConnected",e)}export{c as a,s as c,r as d,u as g,t as l};