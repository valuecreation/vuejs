{"version":3,"file":"js/8191.cf409443.js","mappings":"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","sources":["webpack://my-project/./node_modules/@esri/calcite-components/dist/esm/calcite-sortable-list.entry.js"],"sourcesContent":["/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.\n * v1.0.0-beta.98\n */\nimport { r as registerInstance, c as createEvent, h, g as getElement } from './index-7b536c47.js';\nimport { S as Sortable } from './sortable.esm-de934228.js';\nimport { c as createObserver } from './observers-513bffd3.js';\nimport { u as updateHostInteraction } from './interactive-fc7d4437.js';\n\nconst CSS = {\n  sortItem: \"sort-item\",\n  container: \"container\",\n  containerHorizontal: \"container--horizontal\",\n  containerVertical: \"container--vertical\"\n};\n\nconst sortableListCss = \"@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0.01}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host{display:flex}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.container{display:flex;flex:1 1 auto}.container--vertical{flex-direction:column}.container--horizontal{flex-direction:row}\";\n\nconst SortableList = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.calciteListOrderChange = createEvent(this, \"calciteListOrderChange\", 6);\n    /**\n     * The selector for the handle elements.\n     */\n    this.handleSelector = \"calcite-handle\";\n    /**\n     * Indicates the horizontal or vertical orientation of the component.\n     */\n    this.layout = \"vertical\";\n    /**\n     * When true, disabled prevents interaction. This state shows items with lower opacity/grayed.\n     */\n    this.disabled = false;\n    /**\n     * When true, content is waiting to be loaded. This state shows a busy indicator.\n     */\n    this.loading = false;\n    this.handleActivated = false;\n    this.items = [];\n    this.mutationObserver = createObserver(\"mutation\", () => {\n      this.cleanUpDragAndDrop();\n      this.items = Array.from(this.el.children);\n      this.setUpDragAndDrop();\n    });\n  }\n  // --------------------------------------------------------------------------\n  //\n  //  Lifecycle\n  //\n  // --------------------------------------------------------------------------\n  connectedCallback() {\n    this.items = Array.from(this.el.children);\n    this.setUpDragAndDrop();\n    this.beginObserving();\n  }\n  disconnectedCallback() {\n    var _a;\n    (_a = this.mutationObserver) === null || _a === void 0 ? void 0 : _a.disconnect();\n    this.cleanUpDragAndDrop();\n  }\n  componentDidRender() {\n    updateHostInteraction(this);\n  }\n  calciteHandleNudgeHandler(event) {\n    var _a;\n    const sortItem = this.items.find((item) => {\n      return item.contains(event.detail.handle) || event.composedPath().includes(item);\n    });\n    const lastIndex = this.items.length - 1;\n    const startingIndex = this.items.indexOf(sortItem);\n    let appendInstead = false;\n    let buddyIndex;\n    switch (event.detail.direction) {\n      case \"up\":\n        event.preventDefault();\n        if (startingIndex === 0) {\n          appendInstead = true;\n        }\n        else {\n          buddyIndex = startingIndex - 1;\n        }\n        break;\n      case \"down\":\n        event.preventDefault();\n        if (startingIndex === lastIndex) {\n          buddyIndex = 0;\n        }\n        else if (startingIndex === lastIndex - 1) {\n          appendInstead = true;\n        }\n        else {\n          buddyIndex = startingIndex + 2;\n        }\n        break;\n      default:\n        return;\n    }\n    (_a = this.mutationObserver) === null || _a === void 0 ? void 0 : _a.disconnect();\n    if (appendInstead) {\n      sortItem.parentElement.appendChild(sortItem);\n    }\n    else {\n      sortItem.parentElement.insertBefore(sortItem, this.items[buddyIndex]);\n    }\n    this.items = Array.from(this.el.children);\n    event.detail.handle.activated = true;\n    event.detail.handle.setFocus();\n    this.beginObserving();\n  }\n  // --------------------------------------------------------------------------\n  //\n  //  Private Methods\n  //\n  // --------------------------------------------------------------------------\n  setUpDragAndDrop() {\n    this.cleanUpDragAndDrop();\n    const options = {\n      dataIdAttr: \"id\",\n      group: this.group,\n      handle: this.handleSelector,\n      // Changed sorting within list\n      onUpdate: () => {\n        this.items = Array.from(this.el.children);\n        this.calciteListOrderChange.emit();\n      },\n      // Element dragging started\n      onStart: () => {\n        var _a;\n        (_a = this.mutationObserver) === null || _a === void 0 ? void 0 : _a.disconnect();\n      },\n      // Element dragging ended\n      onEnd: () => {\n        this.beginObserving();\n      }\n    };\n    if (this.dragSelector) {\n      options.draggable = this.dragSelector;\n    }\n    this.sortable = Sortable.create(this.el, options);\n  }\n  cleanUpDragAndDrop() {\n    var _a;\n    (_a = this.sortable) === null || _a === void 0 ? void 0 : _a.destroy();\n    this.sortable = null;\n  }\n  beginObserving() {\n    var _a;\n    (_a = this.mutationObserver) === null || _a === void 0 ? void 0 : _a.observe(this.el, { childList: true, subtree: true });\n  }\n  // --------------------------------------------------------------------------\n  //\n  //  Render Methods\n  //\n  // --------------------------------------------------------------------------\n  render() {\n    const { layout } = this;\n    const horizontal = layout === \"horizontal\" || false;\n    return (h(\"div\", { class: {\n        [CSS.container]: true,\n        [CSS.containerVertical]: !horizontal,\n        [CSS.containerHorizontal]: horizontal\n      } }, h(\"slot\", null)));\n  }\n  get el() { return getElement(this); }\n};\nSortableList.style = sortableListCss;\n\nexport { SortableList as calcite_sortable_list };\n"],"names":["CSS","sortItem","container","containerHorizontal","containerVertical","sortableListCss","SortableList","constructor","hostRef","r","this","calciteListOrderChange","c","handleSelector","layout","disabled","loading","handleActivated","items","mutationObserver","cleanUpDragAndDrop","Array","from","el","children","setUpDragAndDrop","connectedCallback","beginObserving","disconnectedCallback","_a","disconnect","componentDidRender","u","calciteHandleNudgeHandler","event","find","item","contains","detail","handle","composedPath","includes","lastIndex","length","startingIndex","indexOf","buddyIndex","appendInstead","direction","preventDefault","parentElement","appendChild","insertBefore","activated","setFocus","options","dataIdAttr","group","onUpdate","emit","onStart","onEnd","dragSelector","draggable","sortable","S","destroy","observe","childList","subtree","render","horizontal","h","class","g","style"],"sourceRoot":""}