{"version":3,"file":"js/9112.e0dfd2ac.js","mappings":"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","sources":["webpack://my-project/./node_modules/@arcgis/core/portal/support/jsonContext.js","webpack://my-project/./node_modules/@arcgis/core/portal/support/layersLoader.js","webpack://my-project/./node_modules/@arcgis/core/support/requestPresets.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{urlToObject as r}from\"../../core/urlUtils.js\";import t from\"../Portal.js\";function e(e){return{origin:\"portal-item\",url:r(e.itemUrl),portal:e.portal||t.getDefault(),portalItem:e,readResourcePaths:[]}}function o(e){return{origin:\"portal-item\",messages:[],writtenProperties:[],url:e.itemUrl?r(e.itemUrl):null,portal:e.portal||t.getDefault(),portalItem:e}}export{e as createForItemRead,o as createForItemWrite};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import t from\"../../layers/Layer.js\";import{isArcGISUrl as r}from\"../../layers/support/arcgisLayerUrl.js\";import a from\"../Portal.js\";import n from\"../PortalItem.js\";import{createForItemRead as o}from\"./jsonContext.js\";import{hasTypeKeyword as l}from\"./portalItemUtils.js\";import{loadStyleRenderer as s}from\"../../renderers/support/styleUtils.js\";import{requestArcGISServiceJSON as i}from\"../../support/requestPresets.js\";async function p(e,t){const r=e.instance.portalItem;if(r&&r.id)return await r.load(t),u(e),y(e,t)}function u(t){const r=t.instance.portalItem;if(!t.supportedTypes.includes(r.type))throw new e(\"portal:invalid-layer-item-type\",\"Invalid layer item type '${type}', expected '${expectedType}'\",{type:r.type,expectedType:t.supportedTypes.join(\", \")})}async function y(e,t){const r=e.instance,a=r.portalItem,{url:n,title:l}=a,i=o(a);if(\"group\"===r.type)return r.read({title:l},i),c(r,e);n&&r.read({url:n},i);const p=await h(e,t);return p&&r.read(p,i),r.resourceReferences={portalItem:a,paths:i.readResourcePaths},\"subtype-group\"!==r.type&&r.read({title:l},i),s(r,i)}function c(t,r){let a;const n=t.portalItem.type,o=r.layerModuleTypeMap,s=l(t.portalItem,\"Oriented Imagery Layer\")??!1;switch(n){case\"Feature Service\":a=s?o.OrientedImageryLayer:o.FeatureLayer;break;case\"Stream Service\":a=o.StreamLayer;break;case\"Scene Service\":a=o.SceneLayer;break;case\"Feature Collection\":a=o.FeatureLayer;break;default:throw new e(\"portal:unsupported-item-type-as-group\",`The item type '${n}' is not supported as a 'IGroupLayer'`)}let i;return a().then((e=>(i=e,h(r)))).then((async e=>{let r=()=>i;if(\"Feature Service\"===n){if(T(e=await b(e,t.portalItem.url)).length){const e=o.SubtypeGroupLayer,t=await e();r=e=>\"SubtypeGroupLayer\"===e.layerType?t:i}return m(t,r,e)}return w(e)>0?m(t,r,e):d(t,r)}))}function d(e,t){return e.portalItem.url?i(e.portalItem.url).then((r=>{function a(e){return{id:e.id,name:e.name}}r&&m(e,t,{layers:r.layers?.map(a),tables:r.tables?.map(a)})})):Promise.resolve()}function m(e,t,r){let a=r.layers||[];const n=r.tables||[];if(\"Feature Collection\"===e.portalItem.type&&(a.forEach((e=>{\"Table\"===e?.layerDefinition?.type&&n.push(e)})),a=a.filter((e=>\"Table\"!==e?.layerDefinition?.type))),\"coverage\"in r){const t=L(r);e.add(t)}a.reverse().forEach((a=>{const n=f(e,t(a),r,a);e.add(n)})),n.reverse().forEach((a=>{const n=f(e,t(a),r,a);e.tables.add(n)}))}function f(e,t,r,n){const o=new t({portalItem:e.portalItem.clone(),layerId:n.id});if(\"subtype-group\"!==o.type&&(o.sublayerTitleMode=\"service-name\"),\"Feature Collection\"===e.portalItem.type){const t={origin:\"portal-item\",portal:e.portalItem.portal||a.getDefault()};o.read(n,t);const l=r.showLegend;null!=l&&o.read({showLegend:l},t)}return o}function h(e,t){if(!1===e.supportsData)return Promise.resolve(void 0);const r=e.instance;return r.portalItem.fetchData(\"json\",t).catch((()=>null)).then((e=>{if(v(r)){let t,a=!0;if(e&&w(e)>0){if(null==r.layerId){const t=T(e);r.layerId=\"subtype-group\"===r.type?t?.[0]:g(e)}t=I(e,r),t&&(1===w(e)&&(a=!1),null!=e.showLegend&&(t.showLegend=e.showLegend))}return a&&\"service-name\"!==r.sublayerTitleMode&&(r.sublayerTitleMode=\"item-title-and-service-name\"),t}return e}))}async function b(e,t){if(null==e?.layers||null==e?.tables){const r=await i(t);(e=e||{}).layers=e.layers||r?.layers,e.tables=e.tables||r?.tables}return e}function g(e){const t=e.layers;if(t&&t.length)return t[0].id;const r=e.tables;return r&&r.length?r[0].id:null}function I(e,t){const{layerId:r}=t,a=e.layers?.find((e=>e.id===r))||e.tables?.find((e=>e.id===r));return a&&S(a,t)?a:null}function w(e){return(e?.layers?.length??0)+(e?.tables?.length??0)}function v(e){return\"stream\"!==e.type&&\"oriented-imagery\"!==e.type&&\"layerId\"in e}function L(a){const{coverage:o}=a;if(!o)return null;const l=new URL(o);if(o.toLowerCase().includes(\"item.html\")){const e=l.searchParams.get(\"id\"),r=l.origin;return t.fromPortalItem({portalItem:new n({id:e,url:r})})}if(r(o))return t.fromArcGISServerUrl({url:o});throw new e(\"portal:oriented-imagery-layer-coverage\",\"the provided coverage url couldn't be loaded as a layer\")}function T(e){const t=[];return e?.layers?.forEach((e=>{\"SubtypeGroupLayer\"===e.layerType&&t.push(e.id)})),t}function S(e,t){return!(\"feature\"===t.type&&\"layerType\"in e&&\"SubtypeGroupLayer\"===e.layerType||\"subtype-group\"===t.type&&!(\"layerType\"in e))}export{g as getFirstLayerOrTableId,w as getNumLayersAndTables,T as getSubtypeGroupLayerIds,p as load,b as preprocessFSItemData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../request.js\";async function n(n){const{data:o}=await e(n,{responseType:\"json\",query:{f:\"json\"}});return o}export{n as requestArcGISServiceJSON};\n"],"names":["e","origin","url","itemUrl","portal","portalItem","readResourcePaths","o","messages","writtenProperties","async","p","t","r","instance","id","load","u","y","supportedTypes","includes","type","expectedType","join","a","n","title","l","i","read","c","h","resourceReferences","paths","layerModuleTypeMap","s","OrientedImageryLayer","FeatureLayer","StreamLayer","SceneLayer","then","T","b","length","SubtypeGroupLayer","layerType","m","w","d","name","layers","map","tables","Promise","resolve","forEach","layerDefinition","push","filter","L","add","reverse","f","clone","layerId","sublayerTitleMode","showLegend","supportsData","fetchData","catch","v","g","I","find","S","coverage","URL","toLowerCase","searchParams","get","data","responseType","query"],"sourceRoot":""}