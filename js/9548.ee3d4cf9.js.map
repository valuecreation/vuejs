{"version":3,"file":"js/9548.ee3d4cf9.js","mappings":"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","sources":["webpack://my-project/./node_modules/@arcgis/core/geometry/support/scaleUtils.js","webpack://my-project/./node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js","webpack://my-project/./node_modules/@arcgis/core/rest/operations/identify.js","webpack://my-project/./node_modules/@arcgis/core/rest/support/IdentifyParameters.js","webpack://my-project/./node_modules/@arcgis/core/rest/support/IdentifyResult.js","webpack://my-project/./node_modules/@arcgis/core/rest/identify.js","webpack://my-project/./node_modules/@arcgis/core/views/layers/MapImageLayerView.js","webpack://my-project/./node_modules/@arcgis/core/views/2d/layers/MapImageLayerView2D.js","webpack://my-project/./node_modules/@arcgis/core/views/2d/layers/graphics/HighlightGraphicContainer.js","webpack://my-project/./node_modules/@arcgis/core/views/layers/support/popupUtils.js","webpack://my-project/./node_modules/@arcgis/core/views/support/drapedUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{getMetersPerUnitForSR as t,inchesPerMeter as n}from\"../../core/unitUtils.js\";const e=96;function i(i,r){const o=r||i.extent,c=i.width,d=t(o&&o.spatialReference);return o&&c?o.width/c*d*n*e:0}function r(i,r){return i/(t(r)*n*e)}function o(t){return t/(n*e)}function c(i,r){return i*(t(r)*n*e)}function d(t,n){const e=t.extent,i=t.width-(t.padding?t.padding.left+t.padding.right:0),o=r(n,e.spatialReference);return e.clone().expand(o*i/e.width)}export{d as getExtentForScale,r as getResolutionForScale,o as getResolutionInMetersForScale,i as getScale,c as getScaleForResolution};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nfunction t(t,e){return e?\"xoffset\"in e&&e.xoffset?Math.max(t,Math.abs(e.xoffset)):\"yoffset\"in e&&e.yoffset?Math.max(t,Math.abs(e.yoffset||0)):t:t}function e(t){let e=0,n=0;for(let r=0;r<t.length;r++){const s=t[r].size;\"number\"==typeof s&&(e+=s,n++)}return e/n}function n(t,n){return\"number\"==typeof t?t:t&&t.stops&&t.stops.length?e(t.stops):n}function r(t,e){if(!e)return t;const r=e.filter((t=>\"size\"===t.type)).map((e=>{const{maxSize:r,minSize:s}=e;return(n(r,t)+n(s,t))/2}));let s=0;const o=r.length;if(0===o)return t;for(let n=0;n<o;n++)s+=r[n];const f=Math.floor(s/o);return Math.max(f,t)}function s(e){const n=e&&e.renderer,s=\"touch\"===(e&&e.event&&e.event.pointerType)?9:6;if(!n)return s;const o=\"visualVariables\"in n?r(s,n.visualVariables):s;if(\"simple\"===n.type)return t(o,n.symbol);if(\"unique-value\"===n.type){let e=o;return n.uniqueValueInfos?.forEach((n=>{e=t(e,n.symbol)})),e}if(\"class-breaks\"===n.type){let e=o;return n.classBreakInfos.forEach((n=>{e=t(e,n.symbol)})),e}return\"dot-density\"===n.type||n.type,o}export{s as calculateTolerance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../core/maybe.js\";import{sqlAnd as r}from\"../../core/sql.js\";import{getJsonType as t}from\"../../geometry/support/jsonUtils.js\";import{getScale as i}from\"../../geometry/support/scaleUtils.js\";import{getLayerFloorFilterClause as n}from\"../../layers/support/floorFilterUtils.js\";import{isExportDynamic as s}from\"../../layers/support/sublayerUtils.js\";const o=e=>e.spatialReference.wkid||JSON.stringify(e.spatialReference);function l(r,i){const{dpi:n,gdbVersion:s,geometry:l,geometryPrecision:f,height:p,layerOption:m,mapExtent:y,maxAllowableOffset:c,returnFieldName:u,returnGeometry:d,returnUnformattedValues:g,returnZ:x,spatialReference:b,timeExtent:h,tolerance:E,width:O}=r.toJSON(),{dynamicLayers:S,layerDefs:j,layerIds:N}=a(r),J=i&&e(i.geometry)?i.geometry:null,R={geometryPrecision:f,maxAllowableOffset:c,returnFieldName:u,returnGeometry:d,returnUnformattedValues:g,returnZ:x,tolerance:E},$=J&&J.toJSON()||l;if(R.imageDisplay=`${O},${p},${n}`,s&&(R.gdbVersion=s),$&&(delete $.spatialReference,R.geometry=JSON.stringify($),R.geometryType=t($)),b?R.sr=b.wkid||JSON.stringify(b):$&&$.spatialReference?R.sr=o($):y&&y.spatialReference&&(R.sr=o(y)),R.time=h?[h.start,h.end].join(\",\"):null,y){const{xmin:e,ymin:r,xmax:t,ymax:i}=y;R.mapExtent=`${e},${r},${t},${i}`}return j&&(R.layerDefs=j),S&&!j&&(R.dynamicLayers=S),R.layers=\"popup\"===m?\"visible\":m,N&&!S&&(R.layers+=`:${N.join(\",\")}`),R}function a(r){const{mapExtent:t,floors:o,width:l,sublayers:a,layerIds:p,layerOption:m,gdbVersion:y}=r,c=a?.find((e=>null!=e.layer))?.layer?.serviceSublayers,u=\"popup\"===m,d={},g=i({extent:t,width:l,spatialReference:t?.spatialReference}),x=[],b=e=>{const r=0===g,t=0===e.minScale||g<=e.minScale,i=0===e.maxScale||g>=e.maxScale;if(e.visible&&(r||t&&i))if(e.sublayers)e.sublayers.forEach(b);else{if(!1===p?.includes(e.id)||u&&(!e.popupTemplate||!e.popupEnabled))return;x.unshift(e)}};if(a?.forEach(b),a&&!x.length)d.layerIds=[];else{const r=s(x,c,y),t=x.map((e=>{const r=n(o,e);return e.toExportImageJSON(r)}));if(r)d.dynamicLayers=JSON.stringify(t);else{if(a){let e=x.map((({id:e})=>e));p&&(e=e.filter((e=>p.includes(e)))),d.layerIds=e}else p?.length&&(d.layerIds=p);const r=f(o,x);if(e(r)&&r.length){const e={};for(const t of r)t.definitionExpression&&(e[t.id]=t.definitionExpression);Object.keys(e).length&&(d.layerDefs=JSON.stringify(e))}}}return d}function f(e,t){const i=!!e?.length,s=t.filter((e=>null!=e.definitionExpression||i&&null!=e.floorInfo));return s.length?s.map((t=>{const i=n(e,t),s=r(i,t.definitionExpression);return{id:t.id,definitionExpression:s}})):null}export{l as identifyToIdentifyRESTParameters,a as toDynamicLayersJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import{geometryTypes as e}from\"../../geometry.js\";import o from\"../../TimeExtent.js\";import{JSONSupport as r}from\"../../core/JSONSupport.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import{ensureClass as i}from\"../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import{fromJSON as n}from\"../../geometry/support/jsonUtils.js\";import l from\"../../geometry/Extent.js\";import y from\"../../geometry/SpatialReference.js\";var m;let a=m=class extends r{constructor(t){super(t),this.dpi=96,this.floors=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=null,this.height=400,this.layerIds=null,this.layerOption=\"top\",this.mapExtent=null,this.maxAllowableOffset=null,this.returnFieldName=!0,this.returnGeometry=!1,this.returnM=!1,this.returnUnformattedValues=!0,this.returnZ=!1,this.spatialReference=null,this.sublayers=null,this.timeExtent=null,this.tolerance=null,this.width=400}static from(t){return i(m,t)}};t([s({type:Number,json:{write:!0}})],a.prototype,\"dpi\",void 0),t([s()],a.prototype,\"floors\",void 0),t([s({type:String,json:{write:!0}})],a.prototype,\"gdbVersion\",void 0),t([s({types:e,json:{read:n,write:!0}})],a.prototype,\"geometry\",void 0),t([s({type:Number,json:{write:!0}})],a.prototype,\"geometryPrecision\",void 0),t([s({type:Number,json:{write:!0}})],a.prototype,\"height\",void 0),t([s({type:[Number],json:{write:!0}})],a.prototype,\"layerIds\",void 0),t([s({type:[\"top\",\"visible\",\"all\",\"popup\"],json:{write:!0}})],a.prototype,\"layerOption\",void 0),t([s({type:l,json:{write:!0}})],a.prototype,\"mapExtent\",void 0),t([s({type:Number,json:{write:!0}})],a.prototype,\"maxAllowableOffset\",void 0),t([s({type:Boolean,json:{write:!0}})],a.prototype,\"returnFieldName\",void 0),t([s({type:Boolean,json:{write:!0}})],a.prototype,\"returnGeometry\",void 0),t([s({type:Boolean,json:{write:!0}})],a.prototype,\"returnM\",void 0),t([s({type:Boolean,json:{write:!0}})],a.prototype,\"returnUnformattedValues\",void 0),t([s({type:Boolean,json:{write:!0}})],a.prototype,\"returnZ\",void 0),t([s({type:y,json:{write:!0}})],a.prototype,\"spatialReference\",void 0),t([s()],a.prototype,\"sublayers\",void 0),t([s({type:o,json:{write:!0}})],a.prototype,\"timeExtent\",void 0),t([s({type:Number,json:{write:!0}})],a.prototype,\"tolerance\",void 0),t([s({type:Number,json:{write:!0}})],a.prototype,\"width\",void 0),a=m=t([p(\"esri.rest.support.IdentifyParameters\")],a);const u=a;export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import e from\"../../Graphic.js\";import{JSONSupport as t}from\"../../core/JSONSupport.js\";import{isSome as o}from\"../../core/maybe.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{reader as p}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as i}from\"../../core/accessorSupport/decorators/writer.js\";import{typeKebabDictionary as u}from\"../../geometry/support/typeUtils.js\";let m=class extends t{constructor(r){super(r),this.displayFieldName=null,this.feature=null,this.layerId=null,this.layerName=null}readFeature(r,t){return e.fromJSON({attributes:{...t.attributes},geometry:{...t.geometry}})}writeFeature(r,e){if(!r)return;const{attributes:t,geometry:s}=r;t&&(e.attributes={...t}),o(s)&&(e.geometry=s.toJSON(),e.geometryType=u.toJSON(s.type))}};r([s({type:String,json:{write:!0}})],m.prototype,\"displayFieldName\",void 0),r([s({type:e})],m.prototype,\"feature\",void 0),r([p(\"feature\",[\"attributes\",\"geometry\"])],m.prototype,\"readFeature\",null),r([i(\"feature\")],m.prototype,\"writeFeature\",null),r([s({type:Number,json:{write:!0}})],m.prototype,\"layerId\",void 0),r([s({type:String,json:{write:!0}})],m.prototype,\"layerName\",void 0),m=r([a(\"esri.rest.support.IdentifyResult\")],m);const y=m;export{y as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport r from\"../request.js\";import{normalizeCentralMeridian as e}from\"../geometry/support/normalizeUtils.js\";import{parseUrl as t,encode as o,asValidOptions as s}from\"./utils.js\";import{identifyToIdentifyRESTParameters as n}from\"./operations/identify.js\";import u from\"./support/IdentifyParameters.js\";import i from\"./support/IdentifyResult.js\";async function f(u,i,f){const c=(i=a(i)).geometry?[i.geometry]:[],l=t(u);return l.path+=\"/identify\",e(c).then((e=>{const t=n(i,{geometry:e&&e[0]}),u=o({...l.query,f:\"json\",...t}),a=s(u,f);return r(l.path,a).then(m).then((r=>p(r,i.sublayers)))}))}function m(r){const e=r.data;return e.results=e.results||[],e.exceededTransferLimit=Boolean(e.exceededTransferLimit),e.results=e.results.map((r=>i.fromJSON(r))),e}function a(r){return r=u.from(r)}function p(r,e){if(!e?.length)return r;const t=new Map;function o(r){t.set(r.id,r),r.sublayers&&r.sublayers.forEach(o)}e.forEach(o);for(const s of r.results)s.feature.sourceLayer=t.get(s.layerId);return r}export{f as identify};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../symbols.js\";import t from\"../../core/Error.js\";import has from\"../../core/has.js\";import{getOrCreateMapValue as r}from\"../../core/MapUtils.js\";import{isNone as s,isSome as i}from\"../../core/maybe.js\";import{debounce as o,eachAlways as a}from\"../../core/promiseUtils.js\";import{on as n}from\"../../core/reactiveUtils.js\";import{getMetersPerUnitForSR as l}from\"../../core/unitUtils.js\";import{property as p}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as u}from\"../../core/accessorSupport/decorators/subclass.js\";import h from\"../../geometry/Extent.js\";import{getResolutionForScale as c}from\"../../geometry/support/scaleUtils.js\";import{combinedViewLayerTimeExtentProperty as m}from\"../../layers/support/commonProperties.js\";import{ExportImageParameters as y}from\"../../layers/support/ExportImageParameters.js\";import{getLayerFloorFilterClause as d}from\"../../layers/support/floorFilterUtils.js\";import{calculateTolerance as f}from\"../../renderers/support/clickToleranceUtils.js\";import{identify as g}from\"../../rest/identify.js\";import w from\"../../rest/support/IdentifyParameters.js\";import{loadArcade as b}from\"../../support/arcadeOnDemand.js\";import{GraphicsCollection as x}from\"../../support/GraphicsCollection.js\";import{getRequiredFields as v,getFetchPopupTemplate as P}from\"./support/popupUtils.js\";import j from\"../../symbols/SimpleMarkerSymbol.js\";let _=null;const F=F=>{let I=class extends F{constructor(){super(...arguments),this._featuresResolutions=new WeakMap,this.highlightGraphics=new x,this.updateHighlightedFeatures=o((async e=>{this.destroyed||this.updatingHandles.addPromise(this._updateHighlightedFeaturesGeometries(e).catch((()=>{})))}))}initialize(){this.exportImageParameters=new y({layer:this.layer}),this.handles.add([n((()=>this.highlightGraphics),\"change\",(e=>{this.updatingHandles.addPromise(this._updateHighlightedFeaturesSymbols(e.added).catch((()=>{}))),this.updateHighlightedFeatures(this._highlightGeometriesResolution)}))])}destroy(){this.exportImageParameters.destroy(),this.exportImageParameters=null}get exportImageVersion(){return this.exportImageParameters?.commitProperty(\"version\"),this.commitProperty(\"timeExtent\"),(this._get(\"exportImageVersion\")||0)+1}async fetchPopupFeatures(e,r){const{layer:s}=this;if(!e)throw new t(\"mapimagelayer:fetchPopupFeatures\",\"Nothing to fetch without area\",{layer:s});const i=this.layer.capabilities?.operations?.supportsQuery??!0;if(!((this.layer.capabilities?.operations?.supportsIdentify??!0)&&this.layer.version>=10.5)&&!i)throw new t(\"mapimagelayer:fetchPopupFeatures-not-supported\",\"query operation is disabled for this service\",{layer:s});return i?this._fetchPopupFeaturesUsingQueries(e,r):this._fetchPopupFeaturesUsingIdentify(e,r)}canResume(){return!!super.canResume()&&!this.timeExtent?.isEmpty}async _updateHighlightedFeaturesSymbols(e){for(const t of e){const e=\"renderer\"in t.sourceLayer&&t.sourceLayer.renderer;\"geometryType\"in t.sourceLayer&&\"point\"===t.sourceLayer.geometryType&&e&&\"getSymbolAsync\"in e&&e.getSymbolAsync(t).then((async r=>{let s=\"width\"in r&&\"height\"in r&&null!=r.width&&null!=r.height?Math.max(r.width,r.height):\"size\"in r?r.size:null;const i=\"visualVariables\"in e&&e.visualVariables?.find((e=>\"size\"===e.type));i&&(_||(_=(await import(\"../../renderers/visualVariables/support/visualVariableUtils.js\")).getSize),s=_(i,t,{view:this.view.type,scale:this.view.scale,shape:\"simple-marker\"===r.type?r.style:null})),this.highlightGraphics.includes(t)&&(t.symbol=new j({style:\"square\",size:s,xoffset:\"xoffset\"in r?r.xoffset:0,yoffset:\"yoffset\"in r?r.yoffset:0}),t.visible=!0,this.highlightGraphicUpdated(t,\"symbol\"))}))}}async _updateHighlightedFeaturesGeometries(e){this._highlightGeometriesResolution=e;const t=this.highlightGraphics;if(!t.length||!this.layer.capabilities.operations.supportsQuery)return;const s=this._getTargetResolution(e),i=new Map;for(const n of t)if(!this._featuresResolutions.has(n)||this._featuresResolutions.get(n)>s){const e=n.sourceLayer;r(i,e,(()=>new Map)).set(n.getObjectId(),n)}const o=Array.from(i,(([e,t])=>{const r=e.createQuery();return r.objectIds=[...t.keys()],r.outFields=[e.objectIdField],r.returnGeometry=!0,r.maxAllowableOffset=s,r.outSpatialReference=this.view.spatialReference,e.queryFeatures(r)})),a=await Promise.all(o);if(!this.destroyed)for(const{features:r}of a)for(const e of r){const t=e.sourceLayer,r=i.get(t).get(e.getObjectId());r&&this.highlightGraphics.includes(r)&&(r.geometry=e.geometry,this.highlightGraphicUpdated(r,\"geometry\"),this._featuresResolutions.set(r,s))}}_getTargetResolution(e){const t=e*l(this.view.spatialReference),r=t/16;return r<=10?0:e/t*r}async _fetchPopupFeaturesUsingIdentify(e,t){const r=await this._createIdentifyParameters(e,t);if(s(r))return[];const{results:i}=await g(this.layer.parsedUrl,r);return i.map((e=>e.feature))}async _createIdentifyParameters(e,t){const{floors:r,spatialReference:s,scale:o}=this.view,a=i(t)?t.event:null,n=await this._collectPopupProviders(this.layer.sublayers,o,t);if(!n.length)return null;await Promise.all(n.map((({sublayer:e})=>e.load().catch((()=>{})))));const l=Math.min(has(\"mapimagelayer-popup-identify-max-tolerance\"),this.layer.allSublayers.reduce(((e,t)=>t.renderer?f({renderer:t.renderer,event:a}):e),2)),p=this.createFetchPopupFeaturesQueryGeometry(e,l),u=c(o,s),m=Math.round(p.width/u),y=new h({xmin:p.center.x-u*m,ymin:p.center.y-u*m,xmax:p.center.x+u*m,ymax:p.center.y+u*m,spatialReference:p.spatialReference});return new w({floors:r,gdbVersion:this.layer.gdbVersion,geometry:e,height:m,layerOption:\"popup\",mapExtent:y,returnGeometry:!0,spatialReference:s,sublayers:this.layer.sublayers,timeExtent:this.timeExtent,tolerance:l,width:m})}async _fetchPopupFeaturesUsingQueries(e,t){const r=await this._collectPopupProviders(this.layer.sublayers,this.view.scale,t),s=i(t)?t.event:null,o=r.map((async({sublayer:t,popupTemplate:r})=>{await t.load().catch((()=>{}));const o=t.createQuery(),a=f({renderer:t.renderer,event:s}),n=this.createFetchPopupFeaturesQueryGeometry(e,a);if(o.geometry=n,o.outFields=await v(t,r),o.timeExtent=this.timeExtent,\"floors\"in this.view){const e=this.view?.floors?.clone(),r=d(e,t);i(r)&&(o.where=o.where?`(${o.where}) AND (${r})`:r)}const l=this._getTargetResolution(n.width/a),p=await this._loadArcadeModules(r),u=\"point\"===t.geometryType||p&&p.arcadeUtils.hasGeometryOperations(r);u||(o.maxAllowableOffset=l);const{features:h}=await t.queryFeatures(o),c=u?0:l;for(const e of h)this._featuresResolutions.set(e,c);return h}));return(await a(o)).reverse().reduce(((e,t)=>t.value?[...e,...t.value]:e),[]).filter((e=>null!=e))}async _collectPopupProviders(e,t,r){const s=[],o=async e=>{const a=0===e.minScale||t<=e.minScale,n=0===e.maxScale||t>=e.maxScale;if(e.visible&&a&&n)if(e.sublayers)e.sublayers.forEach(o);else if(e.popupEnabled){const t=P(e,{...r,defaultPopupTemplateEnabled:!1});i(t)&&s.unshift({sublayer:e,popupTemplate:t})}},a=e.toArray().reverse().map(o);return await Promise.all(a),s}_loadArcadeModules(e){if(e.expressionInfos?.length||Array.isArray(e.content)&&e.content.some((e=>\"expression\"===e.type)))return b()}};return e([p()],I.prototype,\"highlightGraphics\",void 0),e([p()],I.prototype,\"exportImageParameters\",void 0),e([p({readOnly:!0})],I.prototype,\"exportImageVersion\",null),e([p()],I.prototype,\"layer\",void 0),e([p()],I.prototype,\"suspended\",void 0),e([p(m)],I.prototype,\"timeExtent\",void 0),I=e([u(\"esri.views.layers.MapImageLayerView\")],I),I};export{F as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Graphic.js\";import i from\"../../../core/Collection.js\";import r from\"../../../core/Logger.js\";import{isAbortError as s}from\"../../../core/promiseUtils.js\";import{watch as a}from\"../../../core/reactiveUtils.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as h}from\"../../../core/accessorSupport/decorators/subclass.js\";import{BitmapContainer as p}from\"../engine/BitmapContainer.js\";import{LayerView2DMixin as n}from\"./LayerView2D.js\";import m from\"./graphics/GraphicsView2D.js\";import l from\"./graphics/HighlightGraphicContainer.js\";import g from\"./support/ExportStrategy.js\";import c from\"../../layers/LayerView.js\";import d from\"../../layers/MapImageLayerView.js\";import u from\"../../layers/RefreshableLayerView.js\";import{createQueryGeometry as y}from\"../../support/drapedUtils.js\";let f=class extends(d(u(n(c)))){update(e){this.strategy.update(e).catch((e=>{s(e)||r.getLogger(this.declaredClass).error(e)})),e.stationary&&this.updateHighlightedFeatures(e.state.resolution),this._highlightView.processUpdate(e)}attach(){const{imageMaxWidth:e,imageMaxHeight:t,version:i}=this.layer,r=i>=10.3,s=i>=10;this._bitmapContainer=new p,this.container.addChild(this._bitmapContainer),this._highlightView=new m({view:this.view,graphics:this.highlightGraphics,requestUpdateCallback:()=>this.requestUpdate(),container:new l(this.view.featuresTilingScheme)}),this.container.addChild(this._highlightView.container),this.strategy=new g({container:this._bitmapContainer,fetchSource:this.fetchImageBitmap.bind(this),requestUpdate:this.requestUpdate.bind(this),imageMaxWidth:e,imageMaxHeight:t,imageRotationSupported:r,imageNormalizationSupported:s,hidpi:!0}),this.handles.add(a((()=>this.exportImageVersion),(()=>this.requestUpdate())),\"exportImageVersion\"),this.handles.add(a((()=>this.view?.floors),(()=>this.requestUpdate())),\"view.floors\"),this.requestUpdate()}detach(){this.handles.remove(\"exportImageVersion\"),this.handles.remove(\"view.floors\"),this.strategy.destroy(),this.container.removeAllChildren(),this._bitmapContainer.removeAllChildren(),this._highlightView.destroy()}moveStart(){}viewChange(){}moveEnd(){this.requestUpdate()}highlight(e){let r=null;if(e instanceof t?r=[e]:i.isCollection(e)&&e.length>0?r=e.toArray():Array.isArray(e)&&e.length>0&&(r=e),r=r?.filter(Boolean),!r||!r.length)return{remove:()=>{}};for(const t of r)\"geometryType\"in t.sourceLayer&&\"point\"===t.sourceLayer.geometryType&&(t.visible=!1);return this.highlightGraphics.addMany(r),{remove:()=>{this.highlightGraphics.removeMany(r)}}}supportsSpatialReference(e){return this.layer.serviceSupportsSpatialReference(e)}createFetchPopupFeaturesQueryGeometry(e,t){return y(e,t,this.view)}async doRefresh(){this.requestUpdate()}isUpdating(){return this.strategy.updating||this.updateRequested}highlightGraphicUpdated(e,t){this._highlightView.graphicUpdateHandler({graphic:e,property:t})}fetchImage(e,t,i,r){return this.layer.fetchImage(e,t,i,{timeExtent:this.timeExtent,floors:this.view.floors,...r})}fetchImageBitmap(e,t,i,r){return this.layer.fetchImageBitmap(e,t,i,{timeExtent:this.timeExtent,floors:this.view.floors,...r})}};e([o()],f.prototype,\"strategy\",void 0),e([o()],f.prototype,\"updating\",void 0),f=e([h(\"esri.views.2d.layers.MapImageLayerView2D\")],f);const v=f;export{v as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/Error.js\";import\"../../../../core/has.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{WGLDrawPhase as s}from\"../../engine/webgl/enums.js\";import t from\"./BaseGraphicContainer.js\";import{ClearBufferBit as o}from\"../../../webgl/enums.js\";let i=class extends t{doRender(e){e.drawPhase===s.HIGHLIGHT&&super.doRender(e)}renderChildren(e){if(this.attributeView.update(),!this.children.some((e=>e.hasData)))return;this.attributeView.bindTextures(e.context),super.renderChildren(e);const{painter:r}=e,s=r.effects.highlight;s.bind(e),e.context.setColorMask(!0,!0,!0,!0),e.context.clear(o.COLOR_BUFFER_BIT),this._renderChildren(e,s.defines.concat([\"highlightAll\"])),s.draw(e),s.unbind()}};i=e([r(\"esri.views.2d.layers.support.HighlightGraphicContainer\")],i);const n=i;export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as l}from\"../../../core/maybe.js\";import{getFeatureEditFields as p,fixFields as t}from\"../../../layers/support/fieldUtils.js\";async function d(l,d=l.popupTemplate){if(e(d))return[];const s=await d.getRequiredFields(l.fieldsIndex),{lastEditInfoEnabled:i}=d,{objectIdField:n,typeIdField:u,globalIdField:a,relationships:o}=l;if(s.includes(\"*\"))return[\"*\"];const r=i?await p(l):[],f=t(l.fieldsIndex,[...s,...r]);return u&&f.push(u),f&&n&&l.fieldsIndex.has(n)&&!f.includes(n)&&f.push(n),f&&a&&l.fieldsIndex.has(a)&&!f.includes(a)&&f.push(a),o&&o.forEach((e=>{const{keyField:p}=e;f&&p&&l.fieldsIndex.has(p)&&!f.includes(p)&&f.push(p)})),f}function s(e,p){return e.popupTemplate?e.popupTemplate:l(p)&&p.defaultPopupTemplateEnabled&&l(e.defaultPopupTemplate)?e.defaultPopupTemplate:null}export{s as getFetchPopupTemplate,d as getRequiredFields};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import{isSome as e,isNone as t}from\"../../core/maybe.js\";import{getMetersPerUnitForSR as r}from\"../../core/unitUtils.js\";import{calculateTolerance as n}from\"../../renderers/support/clickToleranceUtils.js\";import i from\"../../geometry/Extent.js\";function a(t,n,a,o=new i){let s;if(\"2d\"===a.type)s=n*a.resolution;else if(\"3d\"===a.type){const i=a.overlayPixelSizeInMapUnits(t),o=a.basemapSpatialReference;s=e(o)&&!o.equals(a.spatialReference)?r(o)/r(a.spatialReference):n*i}const m=t.x-s,p=t.y-s,c=t.x+s,l=t.y+s,{spatialReference:f}=a;return o.xmin=Math.min(m,c),o.ymin=Math.min(p,l),o.xmax=Math.max(m,c),o.ymax=Math.max(p,l),o.spatialReference=f,o}function o(e,r,i){const o=i.toMap(e);if(t(o))return!1;return a(o,n(),i,s).intersects(r)}const s=new i;export{a as createQueryGeometry,o as intersectsDrapedGeometry};\n"],"names":["e","i","r","o","extent","c","width","d","spatialReference","t","xoffset","Math","max","abs","yoffset","n","length","s","size","stops","filter","type","map","maxSize","minSize","f","floor","renderer","event","pointerType","visualVariables","symbol","uniqueValueInfos","forEach","classBreakInfos","wkid","JSON","stringify","dpi","gdbVersion","geometry","l","geometryPrecision","height","p","layerOption","m","mapExtent","y","maxAllowableOffset","returnFieldName","u","returnGeometry","returnUnformattedValues","g","returnZ","x","b","timeExtent","h","tolerance","E","O","toJSON","dynamicLayers","S","layerDefs","j","layerIds","N","a","J","R","$","imageDisplay","geometryType","sr","time","start","end","join","xmin","ymin","xmax","ymax","layers","floors","sublayers","find","layer","serviceSublayers","minScale","maxScale","visible","includes","id","popupTemplate","popupEnabled","unshift","toExportImageJSON","definitionExpression","Object","keys","floorInfo","constructor","super","this","returnM","static","Number","json","write","prototype","String","types","read","Boolean","displayFieldName","feature","layerId","layerName","readFeature","attributes","writeFeature","async","path","then","query","data","results","exceededTransferLimit","Map","set","sourceLayer","get","_","F","I","arguments","_featuresResolutions","WeakMap","highlightGraphics","updateHighlightedFeatures","destroyed","updatingHandles","addPromise","_updateHighlightedFeaturesGeometries","catch","initialize","exportImageParameters","handles","add","_updateHighlightedFeaturesSymbols","added","_highlightGeometriesResolution","destroy","exportImageVersion","commitProperty","_get","capabilities","operations","supportsQuery","supportsIdentify","version","_fetchPopupFeaturesUsingQueries","_fetchPopupFeaturesUsingIdentify","canResume","isEmpty","getSymbolAsync","getSize","view","scale","shape","style","highlightGraphicUpdated","_getTargetResolution","has","getObjectId","Array","from","createQuery","objectIds","outFields","objectIdField","outSpatialReference","queryFeatures","Promise","all","features","_createIdentifyParameters","parsedUrl","_collectPopupProviders","sublayer","load","min","allSublayers","reduce","createFetchPopupFeaturesQueryGeometry","round","center","clone","where","_loadArcadeModules","arcadeUtils","hasGeometryOperations","reverse","value","defaultPopupTemplateEnabled","toArray","expressionInfos","isArray","content","some","readOnly","update","strategy","declaredClass","error","stationary","state","resolution","_highlightView","processUpdate","attach","imageMaxWidth","imageMaxHeight","_bitmapContainer","container","addChild","graphics","requestUpdateCallback","requestUpdate","featuresTilingScheme","fetchSource","fetchImageBitmap","bind","imageRotationSupported","imageNormalizationSupported","hidpi","detach","remove","removeAllChildren","moveStart","viewChange","moveEnd","highlight","addMany","removeMany","supportsSpatialReference","serviceSupportsSpatialReference","isUpdating","updating","updateRequested","graphicUpdateHandler","graphic","property","fetchImage","v","doRender","drawPhase","renderChildren","attributeView","children","hasData","bindTextures","context","painter","effects","setColorMask","clear","_renderChildren","defines","concat","draw","unbind","getRequiredFields","fieldsIndex","lastEditInfoEnabled","typeIdField","globalIdField","relationships","push","keyField","defaultPopupTemplate","overlayPixelSizeInMapUnits","basemapSpatialReference","equals"],"sourceRoot":""}