"use strict";(self["webpackChunkmy_project"]=self["webpackChunkmy_project"]||[]).push([[3549,8163],{53549:function(e,n,t){t.r(n),t.d(n,{executeScript:function(){return Ve},extend:function(){return be},functionHelper:function(){return ve}});var r=t(32070),a=t(93674),o=t(19249),i=t(7182),l=t(94634),c=t(30359),s=t(94837),u=t(61125),f=t(33556),d=t(56101),w=t(88163),p=t(32200),h=t(63038),g=t(47154),y=t(91135),m=t(20031),v=t(14685);function b(e){return e&&"function"==typeof e.then}const V=100;async function H(e,n){const t=[];for(let r=0;r<n.arguments.length;r++)t.push(await R(e,n.arguments[r]));return t}async function A(e,n,t){return!0===n.preparsed?t(e,null,n.arguments):t(e,n,await H(e,n))}class x extends c.Rm{constructor(e,n){super(),this.definition=null,this.context=null,this.definition=e,this.context=n}createFunction(e){return(...n)=>{const t={spatialReference:this.context.spatialReference,console:this.context.console,lrucache:this.context.lrucache,exports:this.context.exports,libraryResolver:this.context.libraryResolver,interceptor:this.context.interceptor,localScope:{},depthCounter:{depth:e.depthCounter+1},globalScope:this.context.globalScope};if(t.depthCounter.depth>64)throw new i.aV(e,i.rH.MaximumCallDepth,null);return pe(this.definition,t,n,null)}}call(e,n){return S(e,n,((t,r,a)=>{const o={spatialReference:e.spatialReference,services:e.services,console:e.console,libraryResolver:e.libraryResolver,exports:e.exports,lrucache:e.lrucache,interceptor:e.interceptor,localScope:{},abortSignal:e.abortSignal,globalScope:e.globalScope,depthCounter:{depth:e.depthCounter.depth+1}};if(o.depthCounter.depth>64)throw new i.aV(e,i.rH.MaximumCallDepth,n);return pe(this.definition,o,a,n)}))}marshalledCall(e,n,t,r){return r(e,n,(async(a,o,i)=>{const l={spatialReference:e.spatialReference,globalScope:t.globalScope,depthCounter:{depth:e.depthCounter.depth+1},libraryResolver:e.libraryResolver,exports:e.exports,console:e.console,abortSignal:e.abortSignal,lrucache:e.lrucache,interceptor:e.interceptor,localScope:{}};return i=i.map((n=>!(0,s.i)(n)||n instanceof c.Vg?n:(0,c.aq)(n,e,r))),(0,c.aq)(await pe(this.definition,l,i,n),t,r)}))}}class I extends r.P{constructor(e){super(e)}async global(e){const n=this.executingContext.globalScope[e.toLowerCase()];if(n.valueset||(n.value=await R(this.executingContext,n.node),n.valueset=!0),(0,s.i)(n.value)&&!(n.value instanceof c.Vg)){const e=new c.Vg;e.fn=n.value,e.parameterEvaluator=S,e.context=this.executingContext,n.value=e}return n.value}setGlobal(e,n){if((0,s.i)(n))throw new i.aV(null,i.rH.AssignModuleFunction,null);this.executingContext.globalScope[e.toLowerCase()]={value:n,valueset:!0,node:null}}hasGlobal(e){return void 0===this.executingContext.exports[e]&&(e=e.toLowerCase()),void 0!==this.executingContext.exports[e]}async loadModule(e){let n=e.spatialReference;null==n&&(n=new v.Z({wkid:102100})),this.moduleScope=ye({},e.customfunctions),this.executingContext={spatialReference:n,services:e.services,libraryResolver:new a.s(e.libraryResolver._moduleSingletons,this.source.syntax.loadedModules),exports:{},abortSignal:void 0===e.abortSignal||null===e.abortSignal?{aborted:!1}:e.abortSignal,globalScope:this.moduleScope,console:e.console?e.console:me,lrucache:e.lrucache,interceptor:e.interceptor,localScope:null,depthCounter:{depth:1}},await R(this.executingContext,this.source.syntax)}}async function S(e,n,t){if(!0===n.preparsed){const r=t(e,null,n.arguments);return b(r),r}const r=t(e,n,await H(e,n));return b(r),r}async function R(e,n,t){if(n.breakpoint&&!0!==t){const t=n.breakpoint();return await t,R(e,n,!0)}try{switch(n?.type){case"VariableDeclarator":return await ee(e,n);case"ImportDeclaration":return await Y(e,n);case"ExportNamedDeclaration":return await $(e,n);case"VariableDeclaration":return await X(e,n,0);case"BlockStatement":case"Program":return await U(e,n);case"FunctionDeclaration":return await Q(e,n);case"ReturnStatement":return await _(e,n);case"IfStatement":return await W(e,n);case"ExpressionStatement":return await D(e,n);case"UpdateExpression":return await q(e,n);case"AssignmentExpression":return await T(e,n);case"ForStatement":return await G(e,n);case"WhileStatement":return await C(e,n);case"ForInStatement":return await B(e,n);case"BreakStatement":return s.o;case"EmptyStatement":return s.v;case"ContinueStatement":return s.p;case"TemplateElement":return await ce(e,n);case"TemplateLiteral":return await ue(e,n);case"Identifier":return await ie(e,n);case"MemberExpression":return await ne(e,n);case"Literal":return n.value;case"CallExpression":return await le(e,n);case"UnaryExpression":return await te(e,n);case"BinaryExpression":return await ae(e,n);case"LogicalExpression":return await oe(e,n);case"ArrayExpression":return await re(e,n);case"ObjectExpression":return await F(e,n);case"Property":return await Z(e,n);default:throw new i.aV(e,i.rH.Unrecognised,n)}}catch(r){throw(0,i.VO)(e,n,r)}}async function F(e,n){const t=[];for(let o=0;o<n.properties.length;o++)t[o]=await R(e,n.properties[o]);const r={},a=new Map;for(let o=0;o<t.length;o++){const l=t[o];if((0,s.i)(l.value))throw new i.aV(e,i.rH.NoFunctionInDictionary,n);if(!1===(0,s.c)(l.key))throw new i.aV(e,i.rH.KeyMustBeString,n);let c=l.key.toString();const u=c.toLowerCase();a.has(u)?c=a.get(u):a.set(u,c),l.value===s.v?r[c]=null:r[c]=l.value}const l=new o.Z(r);return l.immutable=!1,l}async function Z(e,n){const t=await R(e,n.value);return"Identifier"===n.key.type?{key:n.key.name,value:t}:{key:await R(e,n.key),value:t}}async function C(e,n){const t={testResult:!0,lastAction:s.v};if(t.testResult=await R(e,n.test),!1===t.testResult)return s.v;if(!0!==t.testResult)throw new i.aV(e,i.rH.BooleanConditionRequired,n);for(;!0===t.testResult&&(t.lastAction=await R(e,n.body),t.lastAction!==s.o)&&!(t.lastAction instanceof s.R);)if(t.testResult=await R(e,n.test),!0!==t.testResult&&!1!==t.testResult)throw new i.aV(e,i.rH.BooleanConditionRequired,n);return t.lastAction instanceof s.R?t.lastAction:s.v}async function P(e,n,t){const r=await R(e,n.body);return t.lastAction=r,t.lastAction===s.o||t.lastAction instanceof s.R?(t.testResult=!1,t):null!==n.update?(await R(e,n.update),t):t}async function L(e,n,t){if(null!==n.test){const r=await R(e,n.test);if(!0===e.abortSignal?.aborted)throw new i.aV(e,i.rH.Cancelled,n);if(t.testResult=r,!1===t.testResult)return t;if(!0!==t.testResult)throw new i.aV(e,i.rH.BooleanConditionRequired,n);return P(e,n,t)}return P(e,n,t)}function N(e,n,t,r,a,o){try{L(e,n,t).then((()=>{try{!0===t.testResult?++o>V?(o=0,setTimeout((()=>{N(e,n,t,r,a,o)}),0)):N(e,n,t,r,a,o):t.lastAction instanceof s.R?r(t.lastAction):r(s.v)}catch(i){a(i)}}),(e=>{a(e)}))}catch(i){a(i)}}function G(e,n){try{return null!==n.init?R(e,n.init).then((()=>new Promise(((t,r)=>{N(e,n,{testResult:!0,lastAction:s.v},(e=>{t(e)}),(e=>{r(e)}),0)})))):new Promise(((t,r)=>{N(e,n,{testResult:!0,lastAction:s.v},(e=>{t(e)}),(e=>{r(e)}),0)}))}catch(t){return Promise.reject(t)}}function M(e,n,t,r,a,o,i,l,c,u){try{if(r<=o)return void l(s.v);a.value="k"===i?t[o]:o,R(e,n.body).then((f=>{try{f instanceof s.R?l(f):f===s.o?l(s.v):++u>V?(u=0,setTimeout((()=>{M(e,n,t,r,a,o+1,i,l,c,u)}),0)):M(e,n,t,r,a,o+1,i,l,c,u)}catch(d){c(d)}}),(e=>{c(e)}))}catch(f){c(f)}}function k(e,n,t,r,a,o,i,l,c){try{if(t.length()<=a)return void i(s.v);r.value="k"===o?t.get(a):a,R(e,n.body).then((u=>{u instanceof s.R?i(u):u===s.o?i(s.v):++c>V?(c=0,setTimeout((()=>{k(e,n,t,r,a+1,o,i,l,c)}),0)):k(e,n,t,r,a+1,o,i,l,c)}),(e=>{l(e)}))}catch(u){l(u)}}function E(e,n,t,r,a,o){try{if(void 0===o&&(o="i"),0===t.length)return void r.resolve(s.v);M(e,n,t,t.length,a,0,o,(e=>{r.resolve(e)}),(e=>{r.reject(e)}),0)}catch(i){r.reject(i)}}function O(e,n,t,r,a,o){try{if(void 0===o&&(o="i"),0===t.length)return void r.resolve(s.v);k(e,n,t,a,0,o,(e=>{r.resolve(e)}),(e=>{r.reject(e)}),0)}catch(i){r.reject(i)}}function z(e,n,t,r,a){try{E(e,n,t.keys(),r,a,"k")}catch(o){r.reject(o)}}function j(e,n,t,r,a,o,i,c){try{e.next().then((u=>{try{if(null===u)o(s.v);else{const f=l.Z.createFromGraphicLikeObject(u.geometry,u.attributes,r);f._underlyingGraphic=u,a.value=f,R(n,t.body).then((l=>{try{l===s.o?o(s.v):l instanceof s.R?o(l):++c>V?(c=0,setTimeout((()=>{j(e,n,t,r,a,o,i,c)}),0)):j(e,n,t,r,a,o,i,c)}catch(u){i(u)}}),(e=>{i(e)}))}}catch(f){i(f)}}),(e=>{i(e)}))}catch(u){i(u)}}async function B(e,n){return new Promise(((t,r)=>{R(e,n.right).then((a=>{try{let l=null;l="VariableDeclaration"===n.left.type?R(e,n.left):Promise.resolve(),l.then((()=>{try{let l="";if("VariableDeclaration"===n.left.type){const e=n.left.declarations[0].id;"Identifier"===e.type&&(l=e.name)}else"Identifier"===n.left.type&&(l=n.left.name);if(!l)throw new i.aV(e,i.rH.InvalidIdentifier,n);l=l.toLowerCase();let c=null;if(null!=e.localScope&&void 0!==e.localScope[l]&&(c=e.localScope[l]),null===c&&void 0!==e.globalScope[l]&&(c=e.globalScope[l]),null===c)return void r(new i.aV(e,i.rH.InvalidIdentifier,n));(0,s.m)(a)||(0,s.c)(a)?E(e,n,a,{reject:r,resolve:t},c):(0,s.x)(a)?O(e,n,a,{reject:r,resolve:t},c):a instanceof o.Z||(0,s.w)(a)?z(e,n,a,{reject:r,resolve:t},c):(0,s.T)(a)?j(a.iterator(e.abortSignal),e,n,a,c,(e=>{t(e)}),(e=>{r(e)}),0):E(e,n,[],{reject:r,resolve:t},c)}catch(l){r(l)}}),r)}catch(l){r(l)}}),r)}))}async function q(e,n){const t=n.argument;if("MemberExpression"===t.type){const r={t:null},a=await R(e,t.object);let l=null;r.t=a,!0===t.computed?l=await R(e,t.property):"Identifier"===t.property.type&&(l=t.property.name);const c=r.t;let u;if((0,s.m)(c)){if(!(0,s.b)(l))throw new i.aV(e,i.rH.ArrayAccessorMustBeNumber,n);if(l<0&&(l=c.length+l),l<0||l>=c.length)throw new i.aV(e,i.rH.OutOfBounds,n);u=(0,s.g)(c[l]),c[l]="++"===n.operator?u+1:u-1}else if(c instanceof o.Z){if(!1===(0,s.c)(l))throw new i.aV(e,i.rH.KeyAccessorMustBeString,n);if(!0!==c.hasField(l))throw new i.aV(e,i.rH.FieldNotFound,n,{key:l});u=(0,s.g)(c.field(l)),c.setField(l,"++"===n.operator?u+1:u-1)}else if(c instanceof I){if(!1===(0,s.c)(l))throw new i.aV(e,i.rH.ModuleAccessorMustBeString,n);if(!0!==c.hasGlobal(l))throw new i.aV(e,i.rH.ModuleExportNotFound,n);u=(0,s.g)(await c.global(l)),c.setGlobal(l,"++"===n.operator?u+1:u-1)}else{if(!(0,s.w)(c))throw(0,s.x)(c)?new i.aV(e,i.rH.Immutable,n):new i.aV(e,i.rH.InvalidParameter,n);if(!1===(0,s.c)(l))throw new i.aV(e,i.rH.KeyAccessorMustBeString,n);if(!0!==c.hasField(l))throw new i.aV(e,i.rH.FieldNotFound,n,{key:l});u=(0,s.g)(c.field(l)),c.setField(l,"++"===n.operator?u+1:u-1)}return!1===n.prefix?u:"++"===n.operator?u+1:u-1}const r="Identifier"===n.argument.type?n.argument.name.toLowerCase():"";if(!r)throw new i.aV(e,i.rH.InvalidIdentifier,n);let a;if(null!=e.localScope&&void 0!==e.localScope[r])return a=(0,s.g)(e.localScope[r].value),e.localScope[r]={value:"++"===n.operator?a+1:a-1,valueset:!0,node:n},!1===n.prefix?a:"++"===n.operator?a+1:a-1;if(void 0!==e.globalScope[r])return a=(0,s.g)(e.globalScope[r].value),e.globalScope[r]={value:"++"===n.operator?a+1:a-1,valueset:!0,node:n},!1===n.prefix?a:"++"===n.operator?a+1:a-1;throw new i.aV(e,i.rH.InvalidIdentifier,n)}function K(e,n,t,r,a){switch(n){case"=":return e===s.v?null:e;case"/=":return(0,s.g)(t)/(0,s.g)(e);case"*=":return(0,s.g)(t)*(0,s.g)(e);case"-=":return(0,s.g)(t)-(0,s.g)(e);case"+=":return(0,s.c)(t)||(0,s.c)(e)?(0,s.j)(t)+(0,s.j)(e):(0,s.g)(t)+(0,s.g)(e);case"%=":return(0,s.g)(t)%(0,s.g)(e);default:throw new i.aV(a,i.rH.UnsupportedOperator,r)}}async function T(e,n){const t=n.left;if("MemberExpression"===t.type){const r=await R(e,n.right),a=await R(e,t.object);let l=null;if(!0===t.computed)l=await R(e,t.property);else{if("Identifier"!==t.property.type)throw new i.aV(e,i.rH.InvalidIdentifier,n);l=t.property.name}if((0,s.m)(a)){if(!(0,s.b)(l))throw new i.aV(e,i.rH.ArrayAccessorMustBeNumber,n);if(l<0&&(l=a.length+l),l<0||l>a.length)throw new i.aV(e,i.rH.OutOfBounds,n);if(l===a.length){if("="!==n.operator)throw new i.aV(e,i.rH.OutOfBounds,n);a[l]=K(r,n.operator,a[l],n,e)}else a[l]=K(r,n.operator,a[l],n,e)}else if(a instanceof o.Z){if(!1===(0,s.c)(l))throw new i.aV(e,i.rH.KeyAccessorMustBeString,n);if(!0===a.hasField(l))a.setField(l,K(r,n.operator,a.field(l),n,e));else{if("="!==n.operator)throw new i.aV(e,i.rH.FieldNotFound,n,{key:l});a.setField(l,K(r,n.operator,null,n,e))}}else if(a instanceof I){if(!1===(0,s.c)(l))throw new i.aV(e,i.rH.KeyAccessorMustBeString,n);if(!0!==a.hasGlobal(l))throw new i.aV(e,i.rH.ModuleExportNotFound,n);a.setGlobal(l,K(r,n.operator,await a.global(l),n,e))}else{if(!(0,s.w)(a))throw(0,s.x)(a)?new i.aV(e,i.rH.Immutable,n):new i.aV(e,i.rH.InvalidParameter,n);if(!1===(0,s.c)(l))throw new i.aV(e,i.rH.KeyAccessorMustBeString,n);if(!0===a.hasField(l))a.setField(l,K(r,n.operator,a.field(l),n,e));else{if("="!==n.operator)throw new i.aV(e,i.rH.FieldNotFound,n,{key:l});a.setField(l,K(r,n.operator,null,n,e))}}return s.v}const r=t.name.toLowerCase();if(null!=e.localScope&&void 0!==e.localScope[r]){const t=await R(e,n.right);return e.localScope[r]={value:K(t,n.operator,e.localScope[r].value,n,e),valueset:!0,node:n.right},s.v}if(void 0!==e.globalScope[r]){const t=await R(e,n.right);return e.globalScope[r]={value:K(t,n.operator,e.globalScope[r].value,n,e),valueset:!0,node:n.right},s.v}throw new i.aV(e,i.rH.InvalidIdentifier,n)}async function D(e,n){if("AssignmentExpression"===n.expression.type)return R(e,n.expression);if("CallExpression"===n.expression.type){const t=await R(e,n.expression);return t===s.v?s.v:new s.I(t)}const t=await R(e,n.expression);return t===s.v?s.v:new s.I(t)}async function W(e,n){const t=await R(e,n.test);if(!0===t)return R(e,n.consequent);if(!1===t)return null!==n.alternate?R(e,n.alternate):s.v;throw new i.aV(e,i.rH.BooleanConditionRequired,n)}async function U(e,n){return J(e,n,0)}async function J(e,n,t){if(t>=n.body.length)return s.v;const r=await R(e,n.body[t]);return r instanceof s.R||r===s.o||r===s.p||t===n.body.length-1?r:J(e,n,t+1)}async function _(e,n){if(null===n.argument)return new s.R(s.v);const t=await R(e,n.argument);return new s.R(t)}async function Q(e,n){const t=n.id.name.toLowerCase();return e.globalScope[t]={valueset:!0,node:null,value:new x(n,e)},s.v}async function Y(e,n){const t=n.specifiers[0].local.name.toLowerCase(),r=e.libraryResolver.loadLibrary(t);let a=null;return e.libraryResolver._moduleSingletons?.has(r.uri)?a=e.libraryResolver._moduleSingletons.get(r.uri):(a=new I(r),await a.loadModule(e),e.libraryResolver._moduleSingletons?.set(r.uri,a)),e.globalScope[t]={value:a,valueset:!0,node:n},s.v}async function $(e,n){if(await R(e,n.declaration),"FunctionDeclaration"===n.declaration.type)e.exports[n.declaration.id.name.toLowerCase()]="function";else if("VariableDeclaration"===n.declaration.type)for(const t of n.declaration.declarations)e.exports[t.id.name.toLowerCase()]="variable";return s.v}async function X(e,n,t){return t>=n.declarations.length||(await R(e,n.declarations[t]),t===n.declarations.length-1||await X(e,n,t+1)),s.v}async function ee(e,n){let t=null;if(t=null===n.init?null:await R(e,n.init),null!==e.localScope){if(t===s.v&&(t=null),"Identifier"!==n.id.type)throw new i.aV(e,i.rH.InvalidIdentifier,n);const r=n.id.name.toLowerCase();return null!=e.localScope&&(e.localScope[r]={value:t,valueset:!0,node:n.init}),s.v}if("Identifier"!==n.id.type)throw new i.aV(e,i.rH.InvalidIdentifier,n);const r=n.id.name.toLowerCase();return t===s.v&&(t=null),e.globalScope[r]={value:t,valueset:!0,node:n.init},s.v}async function ne(e,n){const t=await R(e,n.object);if(null===t)throw new i.aV(e,i.rH.MemberOfNull,n);if(!1===n.computed){if("Identifier"===n.property.type){if(t instanceof o.Z||(0,s.w)(t))return t.field(n.property.name);if(t instanceof m.Z)return(0,p.Z)(t,n.property.name,e,n);if(t instanceof I){if(!t.hasGlobal(n.property.name))throw new i.aV(e,i.rH.InvalidIdentifier,n);return t.global(n.property.name)}throw new i.aV(e,i.rH.InvalidMemberAccessKey,n)}throw new i.aV(e,i.rH.InvalidMemberAccessKey,n)}let r=await R(e,n.property);if(t instanceof o.Z||(0,s.w)(t)){if((0,s.c)(r))return t.field(r);throw new i.aV(e,i.rH.InvalidMemberAccessKey,n)}if(t instanceof I){if((0,s.c)(r))return t.global(r);throw new i.aV(e,i.rH.InvalidMemberAccessKey,n)}if(t instanceof m.Z){if((0,s.c)(r))return(0,p.Z)(t,r,e,n);throw new i.aV(e,i.rH.InvalidMemberAccessKey,n)}if((0,s.m)(t)){if((0,s.b)(r)&&isFinite(r)&&Math.floor(r)===r){if(r<0&&(r=t.length+r),r>=t.length||r<0)throw new i.aV(e,i.rH.OutOfBounds,n);return t[r]}throw new i.aV(e,i.rH.InvalidMemberAccessKey,n)}if((0,s.x)(t)){if((0,s.b)(r)&&isFinite(r)&&Math.floor(r)===r){if(r<0&&(r=t.length()+r),r>=t.length()||r<0)throw new i.aV(e,i.rH.OutOfBounds,n);return t.get(r)}throw new i.aV(e,i.rH.InvalidMemberAccessKey,n)}if((0,s.c)(t)){if((0,s.b)(r)&&isFinite(r)&&Math.floor(r)===r){if(r<0&&(r=t.length+r),r>=t.length||r<0)throw new i.aV(e,i.rH.OutOfBounds,n);return t[r]}throw new i.aV(e,i.rH.InvalidMemberAccessKey,n)}throw new i.aV(e,i.rH.InvalidMemberAccessKey,n)}async function te(e,n){const t=await R(e,n.argument);if((0,s.a)(t)){if("!"===n.operator)return!t;if("-"===n.operator)return-1*(0,s.g)(t);if("+"===n.operator)return 1*(0,s.g)(t);if("~"===n.operator)return~(0,s.g)(t);throw new i.aV(e,i.rH.UnsupportedUnaryOperator,n)}if("-"===n.operator)return-1*(0,s.g)(t);if("+"===n.operator)return 1*(0,s.g)(t);if("~"===n.operator)return~(0,s.g)(t);throw new i.aV(e,i.rH.UnsupportedUnaryOperator,n)}async function re(e,n){const t=[];for(let r=0;r<n.elements.length;r++)t.push(await R(e,n.elements[r]));for(let r=0;r<t.length;r++){if((0,s.i)(t[r]))throw new i.aV(e,i.rH.NoFunctionInArray,n);t[r]===s.v&&(t[r]=null)}return t}async function ae(e,n){const t=[];t[0]=await R(e,n.left),t[1]=await R(e,n.right);const r=t[0],a=t[1];switch(n.operator){case"|":case"<<":case">>":case">>>":case"^":case"&":return(0,s.u)((0,s.g)(r),(0,s.g)(a),n.operator);case"==":return(0,s.s)(r,a);case"!=":return!(0,s.s)(r,a);case"<":case">":case"<=":case">=":return(0,s.r)(r,a,n.operator);case"+":return(0,s.c)(r)||(0,s.c)(a)?(0,s.j)(r)+(0,s.j)(a):(0,s.g)(r)+(0,s.g)(a);case"-":return(0,s.g)(r)-(0,s.g)(a);case"*":return(0,s.g)(r)*(0,s.g)(a);case"/":return(0,s.g)(r)/(0,s.g)(a);case"%":return(0,s.g)(r)%(0,s.g)(a);default:throw new i.aV(e,i.rH.UnsupportedOperator,n)}}async function oe(e,n){const t=await R(e,n.left);let r=null;if(!(0,s.a)(t))throw new i.aV(e,i.rH.LogicalExpressionOnlyBoolean,n);switch(n.operator){case"||":if(!0===t)return t;if(r=await R(e,n.right),(0,s.a)(r))return r;throw new i.aV(e,i.rH.LogicExpressionOrAnd,n);case"&&":if(!1===t)return t;if(r=await R(e,n.right),(0,s.a)(r))return r;throw new i.aV(e,i.rH.LogicExpressionOrAnd,n);default:throw new i.aV(e,i.rH.LogicExpressionOrAnd,n)}}async function ie(e,n){const t=n.name.toLowerCase();if(null!=e.localScope&&void 0!==e.localScope[t]){const n=e.localScope[t];if(!0===n.valueset)return n.value;if(null!==n.d)return n.d;n.d=R(e,n.node);const r=await n.d;return n.value=r,n.valueset=!0,r}if(void 0!==e.globalScope[t]){const n=e.globalScope[t];if(!0===n.valueset)return n.value;if(null!==n.d)return n.d;n.d=R(e,n.node);const r=await n.d;return n.value=r,n.valueset=!0,r}throw new i.aV(e,i.rH.InvalidIdentifier,n)}async function le(e,n){if("MemberExpression"===n.callee.type){const t=await R(e,n.callee.object);if(!(t instanceof I))throw new i.aV(e,i.rH.FuncionNotFound,n);const r=!1===n.callee.computed?n.callee.property.name:await R(e,n.callee.property);if(!t.hasGlobal(r))throw new i.aV(e,i.rH.FuncionNotFound,n);const a=await t.global(r);if(!(0,s.i)(a))throw new i.aV(e,i.rH.CallNonFunction,n);return a.call(e,n)}if("Identifier"!==n.callee.type)throw new i.aV(e,i.rH.FuncionNotFound,n);if(null!=e.localScope&&void 0!==e.localScope[n.callee.name.toLowerCase()]){const t=e.localScope[n.callee.name.toLowerCase()];if((0,s.i)(t.value))return t.value.call(e,n);throw new i.aV(e,i.rH.CallNonFunction,n)}if(void 0!==e.globalScope[n.callee.name.toLowerCase()]){const t=e.globalScope[n.callee.name.toLowerCase()];if((0,s.i)(t.value))return t.value.call(e,n);throw new i.aV(e,i.rH.CallNonFunction,n)}throw new i.aV(e,i.rH.FuncionNotFound,n)}async function ce(e,n){return n.value?n.value.cooked:""}function se(e,n,t){if((0,s.i)(e))throw new i.aV(n,i.rH.NoFunctionInTemplateLiteral,t);return e}async function ue(e,n){const t=[];for(let o=0;o<n.expressions.length;o++){const r=await R(e,n.expressions[o]);t[o]=(0,s.j)(r)}let r="",a=0;for(const o of n.quasis)r+=o.value?o.value.cooked:"",!1===o.tail&&(r+=t[a]?se(t[a],e,n):"",a++);return r}const fe={};async function de(e,n,t,r){const a=await R(e,n.arguments[t]);if((0,s.s)(a,r))return R(e,n.arguments[t+1]);const o=n.arguments.length-t;return 1===o?R(e,n.arguments[t]):2===o?null:3===o?R(e,n.arguments[t+2]):de(e,n,t+2,r)}async function we(e,n,t,r){if(!0===r)return R(e,n.arguments[t+1]);if(3===n.arguments.length-t)return R(e,n.arguments[t+2]);const a=await R(e,n.arguments[t+2]);if(!1===(0,s.a)(a))throw new i.aV(e,i.rH.ModuleExportNotFound,n.arguments[t+2]);return we(e,n,t+2,a)}async function pe(e,n,t,r){const a=e.body;if(t.length!==e.params.length)throw new i.aV(n,i.rH.WrongNumberOfParameters,null);for(let i=0;i<t.length;i++){const r=e.params[i];"Identifier"===r.type&&null!=n.localScope&&(n.localScope[r.name.toLowerCase()]={d:null,value:t[i],valueset:!0,node:null})}const o=await R(n,a);if(o instanceof s.R)return o.value;if(o===s.o)throw new i.aV(n,i.rH.UnexpectedToken,r);if(o===s.p)throw new i.aV(n,i.rH.UnexpectedToken,r);return o instanceof s.I?o.value:o}(0,d.r)(fe,A),(0,y.r)(fe,A),(0,h.r)(fe,A),(0,p.r)(fe,A),(0,g.r)(fe,A),(0,w.registerFunctions)({functions:fe,compiled:!1,signatures:null,evaluateIdentifier:null,mode:"async",standardFunction:A,standardFunctionAsync:S}),fe.iif=async function(e,n){(0,s.y)(null===n.arguments?[]:n.arguments,3,3,e,n);const t=await R(e,n.arguments[0]);if(!1===(0,s.a)(t))throw new i.aV(e,i.rH.BooleanConditionRequired,n);return R(e,t?n.arguments[1]:n.arguments[2])},fe.decode=async function(e,n){if(n.arguments.length<2)throw new i.aV(e,i.rH.WrongNumberOfParameters,n);if(2===n.arguments.length)return R(e,n.arguments[1]);if((n.arguments.length-1)%2==0)throw new i.aV(e,i.rH.WrongNumberOfParameters,n);return de(e,n,1,await R(e,n.arguments[0]))},fe.when=async function(e,n){if(n.arguments.length<3)throw new i.aV(e,i.rH.WrongNumberOfParameters,n);if(n.arguments.length%2==0)throw new i.aV(e,i.rH.WrongNumberOfParameters,n);const t=await R(e,n.arguments[0]);if(!1===(0,s.a)(t))throw new i.aV(e,i.rH.BooleanConditionRequired,n.arguments[0]);return we(e,n,0,t)};const he={fixSpatialReference:s.q,parseArguments:H,standardFunction:A,standardFunctionAsync:S,evaluateIdentifier:ie};for(const He in fe)fe[He]={value:new c.Bx(fe[He]),valueset:!0,node:null};const ge=function(){};function ye(e,n){const t=new ge;null==e&&(e={}),null==n&&(n={});const r=new o.Z({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});r.immutable=!1,t.textformatting={value:r,valueset:!0,node:null};for(const a in n)t[a]={value:new c.Bx(n[a]),native:!0,valueset:!0,node:null};for(const a in e)e[a]&&"esri.Graphic"===e[a].declaredClass?t[a]={value:l.Z.createFromGraphic(e[a]),valueset:!0,node:null}:t[a]={value:e[a],valueset:!0,node:null};return t}function me(e){console.log(e)}ge.prototype=fe,ge.prototype.infinity={value:Number.POSITIVE_INFINITY,valueset:!0,node:null},ge.prototype.pi={value:Math.PI,valueset:!0,node:null};const ve=he;function be(e){const n={mode:"async",compiled:!1,functions:{},signatures:[],standardFunction:A,standardFunctionAsync:S,evaluateIdentifier:ie};for(let t=0;t<e.length;t++)e[t].registerFunctions(n);for(const t in n.functions)fe[t]={value:new c.Bx(n.functions[t]),valueset:!0,node:null},ge.prototype[t]=fe[t];for(let t=0;t<n.signatures.length;t++)(0,u.gW)(n.signatures[t],"async")}async function Ve(e,n){let t=n.spatialReference;null==t&&(t=new v.Z({wkid:102100}));let r=null;e.usesModules&&(r=new a.s(new Map,e.loadedModules));const o=ye(n.vars,n.customfunctions),l={spatialReference:t,services:n.services,exports:{},libraryResolver:r,abortSignal:void 0===n.abortSignal||null===n.abortSignal?{aborted:!1}:n.abortSignal,globalScope:o,console:n.console?n.console:me,lrucache:n.lrucache,interceptor:n.interceptor,localScope:null,depthCounter:{depth:1}};let c=await R(l,e);if(c instanceof s.R&&(c=c.value),c instanceof s.I&&(c=c.value),c===s.v&&(c=null),c===s.o)throw new i.aV(l,i.rH.IllegalResult,null);if(c===s.p)throw new i.aV(l,i.rH.IllegalResult,null);if((0,s.i)(c))throw new i.aV(l,i.rH.IllegalResult,null);return c}be([f.A])},88163:function(e,n,t){t.r(n),t.d(n,{registerFunctions:function(){return b}});var r=t(88256),a=t(4080),o=t(94837),i=t(5306),l=t(91772),c=t(20031),s=t(15917),u=t(74304),f=t(70909),d=t(89542),w=t(90819),p=t(53736),h=t(7182),g=t(17321);function y(e){return 0===r.i8.indexOf("4.")?d.Z.fromExtent(e):new d.Z({spatialReference:e.spatialReference,rings:[[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]]})}function m(e,n,t){if((0,o.y)(e,2,2,n,t),e[0]instanceof c.Z&&e[1]instanceof c.Z);else if(e[0]instanceof c.Z&&null===e[1]);else if(e[1]instanceof c.Z&&null===e[0]);else if(null!==e[0]||null!==e[1])throw new h.aV(n,h.rH.InvalidParameter,t)}async function v(e,n){if("polygon"!==e.type&&"polyline"!==e.type&&"extent"!==e.type)return 0;let t=1;(e.spatialReference.vcsWkid||e.spatialReference.latestVcsWkid)&&(t=(0,i._R)(e.spatialReference)/(0,g.c9)(e.spatialReference));let r=0;if("polyline"===e.type)for(const o of e.paths)for(let e=1;e<o.length;e++)r+=(0,i.AW)(o[e],o[e-1],t);else if("polygon"===e.type)for(const o of e.rings){for(let e=1;e<o.length;e++)r+=(0,i.AW)(o[e],o[e-1],t);(o[0][0]!==o[o.length-1][0]||o[0][1]!==o[o.length-1][1]||void 0!==o[0][2]&&o[0][2]!==o[o.length-1][2])&&(r+=(0,i.AW)(o[0],o[o.length-1],t))}else"extent"===e.type&&(r+=2*(0,i.AW)([e.xmin,e.ymin,0],[e.xmax,e.ymin,0],t),r+=2*(0,i.AW)([e.xmin,e.ymin,0],[e.xmin,e.ymax,0],t),r*=2,r+=4*Math.abs((0,o.A)(e.zmax,0)*t-(0,o.A)(e.zmin,0)*t));const a=new w.Z({hasZ:!1,hasM:!1,spatialReference:e.spatialReference,paths:[[0,0],[0,r]]});return(0,s.sz)(a,n)}function b(e){"async"===e.mode&&(e.functions.disjoint=function(n,t){return e.standardFunctionAsync(n,t,((e,r,a)=>(m(a=(0,o.G)(a),n,t),null===a[0]||null===a[1]||(0,s.ED)(a[0],a[1]))))},e.functions.intersects=function(n,t){return e.standardFunctionAsync(n,t,((e,r,a)=>(m(a=(0,o.G)(a),n,t),null!==a[0]&&null!==a[1]&&(0,s.kK)(a[0],a[1]))))},e.functions.touches=function(n,t){return e.standardFunctionAsync(n,t,((e,r,a)=>(m(a=(0,o.G)(a),n,t),null!==a[0]&&null!==a[1]&&(0,s.W4)(a[0],a[1]))))},e.functions.crosses=function(n,t){return e.standardFunctionAsync(n,t,((e,r,a)=>(m(a=(0,o.G)(a),n,t),null!==a[0]&&null!==a[1]&&(0,s.jU)(a[0],a[1]))))},e.functions.within=function(n,t){return e.standardFunctionAsync(n,t,((e,r,a)=>(m(a=(0,o.G)(a),n,t),null!==a[0]&&null!==a[1]&&(0,s.uh)(a[0],a[1]))))},e.functions.contains=function(n,t){return e.standardFunctionAsync(n,t,((e,r,a)=>(m(a=(0,o.G)(a),n,t),null!==a[0]&&null!==a[1]&&(0,s.r3)(a[0],a[1]))))},e.functions.overlaps=function(n,t){return e.standardFunctionAsync(n,t,((e,r,a)=>(m(a=(0,o.G)(a),n,t),null!==a[0]&&null!==a[1]&&(0,s.Nm)(a[0],a[1]))))},e.functions.equals=function(n,t){return e.standardFunctionAsync(n,t,((e,r,a)=>((0,o.y)(a,2,2,n,t),a[0]===a[1]||(a[0]instanceof c.Z&&a[1]instanceof c.Z?(0,s.fS)(a[0],a[1]):!(!(0,o.k)(a[0])||!(0,o.k)(a[1]))&&a[0].getTime()===a[1].getTime()))))},e.functions.relate=function(n,t){return e.standardFunctionAsync(n,t,((e,r,a)=>{if(a=(0,o.G)(a),(0,o.y)(a,3,3,n,t),a[0]instanceof c.Z&&a[1]instanceof c.Z)return(0,s.LV)(a[0],a[1],(0,o.j)(a[2]));if(a[0]instanceof c.Z&&null===a[1])return!1;if(a[1]instanceof c.Z&&null===a[0])return!1;if(null===a[0]&&null===a[1])return!1;throw new h.aV(n,h.rH.InvalidParameter,t)}))},e.functions.intersection=function(n,t){return e.standardFunctionAsync(n,t,((e,r,a)=>(m(a=(0,o.G)(a),n,t),null===a[0]||null===a[1]?null:(0,s.wf)(a[0],a[1]))))},e.functions.union=function(n,t){return e.standardFunctionAsync(n,t,((e,r,i)=>{const l=[];if(0===(i=(0,o.G)(i)).length)throw new h.aV(n,h.rH.WrongNumberOfParameters,t);if(1===i.length)if((0,o.m)(i[0])){const e=(0,o.G)(i[0]);for(let r=0;r<e.length;r++)if(null!==e[r]){if(!(e[r]instanceof c.Z))throw new h.aV(n,h.rH.InvalidParameter,t);l.push(e[r])}}else{if(!(0,o.x)(i[0])){if(i[0]instanceof c.Z)return(0,o.q)((0,a.r1)(i[0]),n.spatialReference);if(null===i[0])return null;throw new h.aV(n,h.rH.InvalidParameter,t)}{const e=(0,o.G)(i[0].toArray());for(let r=0;r<e.length;r++)if(null!==e[r]){if(!(e[r]instanceof c.Z))throw new h.aV(n,h.rH.InvalidParameter,t);l.push(e[r])}}}else for(let a=0;a<i.length;a++)if(null!==i[a]){if(!(i[a]instanceof c.Z))throw new h.aV(n,h.rH.InvalidParameter,t);l.push(i[a])}return 0===l.length?null:(0,s.G0)(l)}))},e.functions.difference=function(n,t){return e.standardFunctionAsync(n,t,((e,r,i)=>(m(i=(0,o.G)(i),n,t),null!==i[0]&&null===i[1]?(0,a.r1)(i[0]):null===i[0]?null:(0,s.e5)(i[0],i[1]))))},e.functions.symmetricdifference=function(n,t){return e.standardFunctionAsync(n,t,((e,r,i)=>(m(i=(0,o.G)(i),n,t),null===i[0]&&null===i[1]?null:null===i[0]?(0,a.r1)(i[1]):null===i[1]?(0,a.r1)(i[0]):(0,s.Sp)(i[0],i[1]))))},e.functions.clip=function(n,t){return e.standardFunctionAsync(n,t,((e,r,a)=>{if(a=(0,o.G)(a),(0,o.y)(a,2,2,n,t),!(a[1]instanceof l.Z)&&null!==a[1])throw new h.aV(n,h.rH.InvalidParameter,t);if(null===a[0])return null;if(!(a[0]instanceof c.Z))throw new h.aV(n,h.rH.InvalidParameter,t);return null===a[1]?null:(0,s.oq)(a[0],a[1])}))},e.functions.cut=function(n,t){return e.standardFunctionAsync(n,t,((e,r,i)=>{if(i=(0,o.G)(i),(0,o.y)(i,2,2,n,t),!(i[1]instanceof w.Z)&&null!==i[1])throw new h.aV(n,h.rH.InvalidParameter,t);if(null===i[0])return[];if(!(i[0]instanceof c.Z))throw new h.aV(n,h.rH.InvalidParameter,t);return null===i[1]?[(0,a.r1)(i[0])]:(0,s.z7)(i[0],i[1])}))},e.functions.area=function(n,t){return e.standardFunctionAsync(n,t,(async(e,r,i)=>{if((0,o.y)(i,1,2,n,t),null===(i=(0,o.G)(i))[0])return 0;if((0,o.T)(i[0])){const e=await i[0].sumArea((0,a.EI)((0,o.A)(i[1],-1)),!1,n.abortSignal);if(n.abortSignal.aborted)throw new h.aV(n,h.rH.Cancelled,t);return e}if((0,o.m)(i[0])||(0,o.x)(i[0])){const e=(0,o.J)(i[0],n.spatialReference);return null===e?0:(0,s.CJ)(e,(0,a.EI)((0,o.A)(i[1],-1)))}if(!(i[0]instanceof c.Z))throw new h.aV(n,h.rH.InvalidParameter,t);return(0,s.CJ)(i[0],(0,a.EI)((0,o.A)(i[1],-1)))}))},e.functions.areageodetic=function(n,t){return e.standardFunctionAsync(n,t,(async(e,r,i)=>{if((0,o.y)(i,1,2,n,t),null===(i=(0,o.G)(i))[0])return 0;if((0,o.T)(i[0])){const e=await i[0].sumArea((0,a.EI)((0,o.A)(i[1],-1)),!0,n.abortSignal);if(n.abortSignal.aborted)throw new h.aV(n,h.rH.Cancelled,t);return e}if((0,o.m)(i[0])||(0,o.x)(i[0])){const e=(0,o.J)(i[0],n.spatialReference);return null===e?0:(0,s.Y4)(e,(0,a.EI)((0,o.A)(i[1],-1)))}if(!(i[0]instanceof c.Z))throw new h.aV(n,h.rH.InvalidParameter,t);return(0,s.Y4)(i[0],(0,a.EI)((0,o.A)(i[1],-1)))}))},e.functions.length=function(n,t){return e.standardFunctionAsync(n,t,(async(e,r,i)=>{if((0,o.y)(i,1,2,n,t),null===(i=(0,o.G)(i))[0])return 0;if((0,o.T)(i[0])){const e=await i[0].sumLength((0,a.Lz)((0,o.A)(i[1],-1)),!1,n.abortSignal);if(n.abortSignal.aborted)throw new h.aV(n,h.rH.Cancelled,t);return e}if((0,o.m)(i[0])||(0,o.x)(i[0])){const e=(0,o.H)(i[0],n.spatialReference);return null===e?0:(0,s.sz)(e,(0,a.Lz)((0,o.A)(i[1],-1)))}if(!(i[0]instanceof c.Z))throw new h.aV(n,h.rH.InvalidParameter,t);return(0,s.sz)(i[0],(0,a.Lz)((0,o.A)(i[1],-1)))}))},e.functions.length3d=function(n,t){return e.standardFunctionAsync(n,t,((e,r,i)=>{if((0,o.y)(i,1,2,n,t),null===(i=(0,o.G)(i))[0])return 0;if((0,o.m)(i[0])||(0,o.x)(i[0])){const e=(0,o.H)(i[0],n.spatialReference);return null===e?0:!0===e.hasZ?v(e,(0,a.Lz)((0,o.A)(i[1],-1))):(0,s.sz)(e,(0,a.Lz)((0,o.A)(i[1],-1)))}if(!(i[0]instanceof c.Z))throw new h.aV(n,h.rH.InvalidParameter,t);return!0===i[0].hasZ?v(i[0],(0,a.Lz)((0,o.A)(i[1],-1))):(0,s.sz)(i[0],(0,a.Lz)((0,o.A)(i[1],-1)))}))},e.functions.lengthgeodetic=function(n,t){return e.standardFunctionAsync(n,t,(async(e,r,i)=>{if((0,o.y)(i,1,2,n,t),null===(i=(0,o.G)(i))[0])return 0;if((0,o.T)(i[0])){const e=await i[0].sumLength((0,a.Lz)((0,o.A)(i[1],-1)),!0,n.abortSignal);if(n.abortSignal.aborted)throw new h.aV(n,h.rH.Cancelled,t);return e}if((0,o.m)(i[0])||(0,o.x)(i[0])){const e=(0,o.H)(i[0],n.spatialReference);return null===e?0:(0,s.kQ)(e,(0,a.Lz)((0,o.A)(i[1],-1)))}if(!(i[0]instanceof c.Z))throw new h.aV(n,h.rH.InvalidParameter,t);return(0,s.kQ)(i[0],(0,a.Lz)((0,o.A)(i[1],-1)))}))},e.functions.distance=function(n,t){return e.standardFunctionAsync(n,t,((e,r,i)=>{i=(0,o.G)(i),(0,o.y)(i,2,3,n,t);let l=i[0];((0,o.m)(i[0])||(0,o.x)(i[0]))&&(l=(0,o.K)(i[0],n.spatialReference));let u=i[1];if(((0,o.m)(i[1])||(0,o.x)(i[1]))&&(u=(0,o.K)(i[1],n.spatialReference)),!(l instanceof c.Z))throw new h.aV(n,h.rH.InvalidParameter,t);if(!(u instanceof c.Z))throw new h.aV(n,h.rH.InvalidParameter,t);return(0,s.TE)(l,u,(0,a.Lz)((0,o.A)(i[2],-1)))}))},e.functions.distancegeodetic=function(n,t){return e.standardFunctionAsync(n,t,((e,r,i)=>{i=(0,o.G)(i),(0,o.y)(i,2,3,n,t);const l=i[0],c=i[1];if(!(l instanceof f.Z))throw new h.aV(n,h.rH.InvalidParameter,t);if(!(c instanceof f.Z))throw new h.aV(n,h.rH.InvalidParameter,t);const u=new w.Z({paths:[],spatialReference:l.spatialReference});return u.addPath([l,c]),(0,s.kQ)(u,(0,a.Lz)((0,o.A)(i[2],-1)))}))},e.functions.densify=function(n,t){return e.standardFunctionAsync(n,t,((e,r,i)=>{if(i=(0,o.G)(i),(0,o.y)(i,2,3,n,t),null===i[0])return null;if(!(i[0]instanceof c.Z))throw new h.aV(n,h.rH.InvalidParameter,t);const u=(0,o.g)(i[1]);if(isNaN(u))throw new h.aV(n,h.rH.InvalidParameter,t);if(u<=0)throw new h.aV(n,h.rH.InvalidParameter,t);return i[0]instanceof d.Z||i[0]instanceof w.Z?(0,s.Cz)(i[0],u,(0,a.Lz)((0,o.A)(i[2],-1))):i[0]instanceof l.Z?(0,s.Cz)(y(i[0]),u,(0,a.Lz)((0,o.A)(i[2],-1))):i[0]}))},e.functions.densifygeodetic=function(n,t){return e.standardFunctionAsync(n,t,((e,r,i)=>{if(i=(0,o.G)(i),(0,o.y)(i,2,3,n,t),null===i[0])return null;if(!(i[0]instanceof c.Z))throw new h.aV(n,h.rH.InvalidParameter,t);const u=(0,o.g)(i[1]);if(isNaN(u))throw new h.aV(n,h.rH.InvalidParameter,t);if(u<=0)throw new h.aV(n,h.rH.InvalidParameter,t);return i[0]instanceof d.Z||i[0]instanceof w.Z?(0,s.j2)(i[0],u,(0,a.Lz)((0,o.A)(i[2],-1))):i[0]instanceof l.Z?(0,s.j2)(y(i[0]),u,(0,a.Lz)((0,o.A)(i[2],-1))):i[0]}))},e.functions.generalize=function(n,t){return e.standardFunctionAsync(n,t,((e,r,i)=>{if(i=(0,o.G)(i),(0,o.y)(i,2,4,n,t),null===i[0])return null;if(!(i[0]instanceof c.Z))throw new h.aV(n,h.rH.InvalidParameter,t);const l=(0,o.g)(i[1]);if(isNaN(l))throw new h.aV(n,h.rH.InvalidParameter,t);return(0,s.D$)(i[0],l,(0,o.h)((0,o.A)(i[2],!0)),(0,a.Lz)((0,o.A)(i[3],-1)))}))},e.functions.buffer=function(n,t){return e.standardFunctionAsync(n,t,((e,r,i)=>{if(i=(0,o.G)(i),(0,o.y)(i,2,3,n,t),null===i[0])return null;if(!(i[0]instanceof c.Z))throw new h.aV(n,h.rH.InvalidParameter,t);const l=(0,o.g)(i[1]);if(isNaN(l))throw new h.aV(n,h.rH.InvalidParameter,t);return 0===l?(0,a.r1)(i[0]):(0,s.f3)(i[0],l,(0,a.Lz)((0,o.A)(i[2],-1)))}))},e.functions.buffergeodetic=function(n,t){return e.standardFunctionAsync(n,t,((e,r,i)=>{if(i=(0,o.G)(i),(0,o.y)(i,2,3,n,t),null===i[0])return null;if(!(i[0]instanceof c.Z))throw new h.aV(n,h.rH.InvalidParameter,t);const l=(0,o.g)(i[1]);if(isNaN(l))throw new h.aV(n,h.rH.InvalidParameter,t);return 0===l?(0,a.r1)(i[0]):(0,s.rd)(i[0],l,(0,a.Lz)((0,o.A)(i[2],-1)))}))},e.functions.offset=function(n,t){return e.standardFunctionAsync(n,t,((e,r,i)=>{if(i=(0,o.G)(i),(0,o.y)(i,2,6,n,t),null===i[0])return null;if(!(i[0]instanceof d.Z||i[0]instanceof w.Z))throw new h.aV(n,h.rH.InvalidParameter,t);const l=(0,o.g)(i[1]);if(isNaN(l))throw new h.aV(n,h.rH.InvalidParameter,t);const c=(0,o.g)((0,o.A)(i[4],10));if(isNaN(c))throw new h.aV(n,h.rH.InvalidParameter,t);const u=(0,o.g)((0,o.A)(i[5],0));if(isNaN(u))throw new h.aV(n,h.rH.InvalidParameter,t);return(0,s.cv)(i[0],l,(0,a.Lz)((0,o.A)(i[2],-1)),(0,o.j)((0,o.A)(i[3],"round")).toLowerCase(),c,u)}))},e.functions.rotate=function(n,t){return e.standardFunctionAsync(n,t,((e,r,a)=>{a=(0,o.G)(a),(0,o.y)(a,2,3,n,t);let i=a[0];if(null===i)return null;if(!(i instanceof c.Z))throw new h.aV(n,h.rH.InvalidParameter,t);i instanceof l.Z&&(i=d.Z.fromExtent(i));const u=(0,o.g)(a[1]);if(isNaN(u))throw new h.aV(n,h.rH.InvalidParameter,t);const w=(0,o.A)(a[2],null);if(null===w)return(0,s.U1)(i,u);if(w instanceof f.Z)return(0,s.U1)(i,u,w);throw new h.aV(n,h.rH.InvalidParameter,t)}))},e.functions.centroid=function(n,t){return e.standardFunctionAsync(n,t,((e,r,s)=>{if(s=(0,o.G)(s),(0,o.y)(s,1,1,n,t),null===s[0])return null;let p=s[0];if(((0,o.m)(s[0])||(0,o.x)(s[0]))&&(p=(0,o.K)(s[0],n.spatialReference)),null===p)return null;if(!(p instanceof c.Z))throw new h.aV(n,h.rH.InvalidParameter,t);return p instanceof f.Z?(0,o.q)((0,a.r1)(s[0]),n.spatialReference):p instanceof d.Z?p.centroid:p instanceof w.Z?(0,i.s9)(p):p instanceof u.Z?(0,i.Ay)(p):p instanceof l.Z?p.center:null}))},e.functions.multiparttosinglepart=function(n,t){return e.standardFunctionAsync(n,t,(async(e,r,i)=>{i=(0,o.G)(i),(0,o.y)(i,1,1,n,t);const g=[];if(null===i[0])return null;if(!(i[0]instanceof c.Z))throw new h.aV(n,h.rH.InvalidParameter,t);if(i[0]instanceof f.Z)return[(0,o.q)((0,a.r1)(i[0]),n.spatialReference)];if(i[0]instanceof l.Z)return[(0,o.q)((0,a.r1)(i[0]),n.spatialReference)];const y=await(0,s.og)(i[0]);if(y instanceof d.Z){const e=[],n=[];for(let t=0;t<y.rings.length;t++)if(y.isClockwise(y.rings[t])){const n=(0,p.im)({rings:[y.rings[t]],hasZ:!0===y.hasZ,hazM:!0===y.hasM,spatialReference:y.spatialReference.toJSON()});e.push(n)}else n.push({ring:y.rings[t],pt:y.getPoint(t,0)});for(let t=0;t<n.length;t++)for(let r=0;r<e.length;r++)if(e[r].contains(n[t].pt)){e[r].addRing(n[t].ring);break}return e}if(y instanceof w.Z){const e=[];for(let n=0;n<y.paths.length;n++){const t=(0,p.im)({paths:[y.paths[n]],hasZ:!0===y.hasZ,hazM:!0===y.hasM,spatialReference:y.spatialReference.toJSON()});e.push(t)}return e}if(i[0]instanceof u.Z){const e=(0,o.q)((0,a.r1)(i[0]),n.spatialReference);for(let n=0;n<e.points.length;n++)g.push(e.getPoint(n));return g}return null}))},e.functions.issimple=function(n,t){return e.standardFunctionAsync(n,t,((e,r,a)=>{if(a=(0,o.G)(a),(0,o.y)(a,1,1,n,t),null===a[0])return!0;if(!(a[0]instanceof c.Z))throw new h.aV(n,h.rH.InvalidParameter,t);return(0,s.Gg)(a[0])}))},e.functions.simplify=function(n,t){return e.standardFunctionAsync(n,t,((e,r,a)=>{if(a=(0,o.G)(a),(0,o.y)(a,1,1,n,t),null===a[0])return null;if(!(a[0]instanceof c.Z))throw new h.aV(n,h.rH.InvalidParameter,t);return(0,s.og)(a[0])}))},e.functions.convexhull=function(n,t){return e.standardFunctionAsync(n,t,((e,r,a)=>{if(a=(0,o.G)(a),(0,o.y)(a,1,1,n,t),null===a[0])return null;if(!(a[0]instanceof c.Z))throw new h.aV(n,h.rH.InvalidParameter,t);return(0,s.JI)(a[0])}))})}},15917:function(e,n,t){t.d(n,{CJ:function(){return z},Cz:function(){return E},D$:function(){return k},ED:function(){return V},G0:function(){return C},Gg:function(){return x},JI:function(){return S},LV:function(){return A},Nm:function(){return H},Sp:function(){return F},TE:function(){return g},U1:function(){return M},W4:function(){return v},Y4:function(){return B},cv:function(){return P},e5:function(){return R},f3:function(){return L},fS:function(){return y},j2:function(){return O},jU:function(){return h},kK:function(){return m},kQ:function(){return q},og:function(){return I},oq:function(){return d},r3:function(){return p},rd:function(){return N},sz:function(){return j},uh:function(){return b},wf:function(){return Z},z7:function(){return w}});t(91957);var r=t(76061),a=(t(70909),t(53736));function o(e){return Array.isArray(e)?e[0]?.spatialReference:e?.spatialReference}function i(e){return e?Array.isArray(e)?e.map(i):e.toJSON?e.toJSON():e:e}function l(e){return Array.isArray(e)?e.map((e=>(0,a.im)(e))):(0,a.im)(e)}function c(e,n){let t;return Array.isArray(e)?t=e:(t=[],t.push(e),null!=n&&t.push(n)),t}let s;async function u(){return s||(s=(0,r.bA)("geometryEngineWorker",{strategy:"distributed"})),s}async function f(e,n){return(await u()).invoke("executeGEOperation",{operation:e,parameters:i(n)})}async function d(e,n){return l(await f("clip",[o(e),e,n]))}async function w(e,n){return l(await f("cut",[o(e),e,n]))}function p(e,n){return f("contains",[o(e),e,n])}function h(e,n){return f("crosses",[o(e),e,n])}function g(e,n,t){return f("distance",[o(e),e,n,t])}function y(e,n){return f("equals",[o(e),e,n])}function m(e,n){return f("intersects",[o(e),e,n])}function v(e,n){return f("touches",[o(e),e,n])}function b(e,n){return f("within",[o(e),e,n])}function V(e,n){return f("disjoint",[o(e),e,n])}function H(e,n){return f("overlaps",[o(e),e,n])}function A(e,n,t){return f("relate",[o(e),e,n,t])}function x(e){return f("isSimple",[o(e),e])}async function I(e){return l(await f("simplify",[o(e),e]))}async function S(e,n=!1){return l(await f("convexHull",[o(e),e,n]))}async function R(e,n){return l(await f("difference",[o(e),e,n]))}async function F(e,n){return l(await f("symmetricDifference",[o(e),e,n]))}async function Z(e,n){return l(await f("intersect",[o(e),e,n]))}async function C(e,n=null){const t=c(e,n);return l(await f("union",[o(t),t]))}async function P(e,n,t,r,a,i){return l(await f("offset",[o(e),e,n,t,r,a,i]))}async function L(e,n,t,r=!1){const a=[o(e),e,n,t,r];return l(await f("buffer",a))}async function N(e,n,t,r,a,i){const c=[o(e),e,n,t,r,a,i];return l(await f("geodesicBuffer",c))}function G(e){return"xmin"in e?e.center:"x"in e?e:e.extent?.center}async function M(e,n,t){if(null==e)throw new K;const r=e.spatialReference;if(null==(t=t??G(e)))throw new K;const a=e.constructor.fromJSON(await f("rotate",[r,e,n,t]));return a.spatialReference=r,a}async function k(e,n,t,r){return l(await f("generalize",[o(e),e,n,t,r]))}async function E(e,n,t){return l(await f("densify",[o(e),e,n,t]))}async function O(e,n,t,r=0){return l(await f("geodesicDensify",[o(e),e,n,t,r]))}function z(e,n){return f("planarArea",[o(e),e,n])}function j(e,n){return f("planarLength",[o(e),e,n])}function B(e,n,t){return f("geodesicArea",[o(e),e,n,t])}function q(e,n,t){return f("geodesicLength",[o(e),e,n,t])}class K extends Error{constructor(){super("Illegal Argument Exception")}}}}]);
//# sourceMappingURL=3549.ac5c6272.js.map