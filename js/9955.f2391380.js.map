{"version":3,"file":"js/9955.f2391380.js","mappings":"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","sources":["webpack://my-project/./node_modules/@arcgis/core/layers/graphics/sources/geojson/GeoJSONSourceWorker.js","webpack://my-project/./node_modules/@arcgis/core/layers/graphics/sources/geojson/geojson.js","webpack://my-project/./node_modules/@arcgis/core/layers/graphics/sources/support/clientSideDefaults.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../../../request.js\";import{createTask as t}from\"../../../../core/asyncUtils.js\";import s from\"../../../../core/Error.js\";import i from\"../../../../core/Logger.js\";import{isSome as r}from\"../../../../core/maybe.js\";import{isAbortError as n}from\"../../../../core/promiseUtils.js\";import{getJsonType as a}from\"../../../../geometry/support/jsonUtils.js\";import{WGS84 as o,equals as l}from\"../../../../geometry/support/spatialReferenceUtils.js\";import{convertFromGeometry as u,convertToGeometry as d,convertFromFeatures as p,convertToFeature as c,convertFromFeature as y}from\"../../featureConversionUtils.js\";import h from\"../../data/FeatureStore.js\";import{checkProjectionSupport as m,project as f}from\"../../data/projectionSupport.js\";import{QueryEngine as g}from\"../../data/QueryEngine.js\";import{inferLayerProperties as _,createOptimizedFeatures as I,validateGeoJSON as j}from\"./geojson.js\";import{createDrawingInfo as F,createDefaultTemplate as E,createDefaultAttributesFunction as b}from\"../support/clientSideDefaults.js\";import{loadGeometryEngineForSimplify as w,mixAttributes as T,createFeatureEditSuccessResult as q,createFeatureEditErrorResult as x,simplify as S}from\"../support/sourceUtils.js\";import R from\"../../../support/FieldsIndex.js\";import{kebabDict as k}from\"../../../support/fieldType.js\";import{getFieldDefaultValue as D}from\"../../../support/fieldUtils.js\";const O={hasAttachments:!1,capabilities:\"query, editing, create, delete, update\",useStandardizedQueries:!0,supportsCoordinatesQuantization:!0,supportsReturningQueryGeometry:!0,advancedQueryCapabilities:{supportsQueryAttachments:!1,supportsStatistics:!0,supportsPercentileStatistics:!0,supportsReturningGeometryCentroid:!0,supportsQueryWithDistance:!0,supportsDistinct:!0,supportsReturningQueryExtent:!0,supportsReturningGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQueryWithResultType:!1,supportsSqlExpression:!0,supportsDisjointSpatialRel:!0}};class C{constructor(){this._queryEngine=null,this._snapshotFeatures=async e=>{const t=await this._fetch(e);return this._createFeatures(t)}}destroy(){this._queryEngine?.destroy(),this._queryEngine=this._fieldsIndex=this._createDefaultAttributes=null}async load(e,t={}){this._loadOptions={url:e.url,customParameters:e.customParameters};const i=[];await this._checkProjection(e.spatialReference);let r=null;e.url&&(r=await this._fetch(t?.signal));const n=_(r,{geometryType:e.geometryType}),a=e.fields||n.fields||[],l=null!=e.hasZ?e.hasZ:n.hasZ,u=n.geometryType;let d=e.objectIdField||n.objectIdFieldName||\"__OBJECTID\";const p=e.spatialReference||o;let c=e.timeInfo;a===n.fields&&n.unknownFields.length>0&&i.push({name:\"geojson-layer:unknown-field-types\",message:\"Some fields types couldn't be inferred from the features and were dropped\",details:{unknownFields:n.unknownFields}});let y=new R(a).get(d);y?(\"esriFieldTypeString\"!==y.type&&(y.type=\"esriFieldTypeOID\"),y.editable=!1,y.nullable=!1,d=y.name):(y={alias:d,name:d,type:\"string\"===n.objectIdFieldType?\"esriFieldTypeString\":\"esriFieldTypeOID\",editable:!1,nullable:!1},a.unshift(y));const m={};for(const o of a){if(null==o.name&&(o.name=o.alias),null==o.alias&&(o.alias=o.name),!o.name)throw new s(\"geojson-layer:invalid-field-name\",\"field name is missing\",{field:o});if(!k.jsonValues.includes(o.type))throw new s(\"geojson-layer:invalid-field-type\",`invalid type for field \"${o.name}\"`,{field:o});if(o.name!==y.name){const e=D(o);void 0!==e&&(m[o.name]=e)}}this._fieldsIndex=new R(a);const f=this._fieldsIndex.requiredFields.indexOf(y);if(f>-1&&this._fieldsIndex.requiredFields.splice(f,1),c){if(c.startTimeField){const e=this._fieldsIndex.get(c.startTimeField);e?(c.startTimeField=e.name,e.type=\"esriFieldTypeDate\"):c.startTimeField=null}if(c.endTimeField){const e=this._fieldsIndex.get(c.endTimeField);e?(c.endTimeField=e.name,e.type=\"esriFieldTypeDate\"):c.endTimeField=null}if(c.trackIdField){const e=this._fieldsIndex.get(c.trackIdField);e?c.trackIdField=e.name:(c.trackIdField=null,i.push({name:\"geojson-layer:invalid-timeInfo-trackIdField\",message:\"trackIdField is missing\",details:{timeInfo:c}}))}c.startTimeField||c.endTimeField||(i.push({name:\"geojson-layer:invalid-timeInfo\",message:\"startTimeField and endTimeField are missing\",details:{timeInfo:c}}),c=null)}const I=u?F(u):null,j={warnings:i,featureErrors:[],layerDefinition:{...O,drawingInfo:I,templates:E(m),extent:null,geometryType:u,objectIdField:d,fields:a,hasZ:!!l,timeInfo:c}};this._queryEngine=new g({fields:a,geometryType:u,hasM:!1,hasZ:l,objectIdField:d,spatialReference:p,timeInfo:c,featureStore:new h({geometryType:u,hasM:!1,hasZ:l}),cacheSpatialQueries:!0}),this._createDefaultAttributes=b(m,d);const w=await this._createFeatures(r);this._objectIdGenerator=this._createObjectIdGenerator(this._queryEngine,w);const T=this._normalizeFeatures(w,j.warnings,j.featureErrors);if(this._queryEngine.featureStore.addMany(T),j.layerDefinition.extent=this._queryEngine.fullExtent,j.layerDefinition.timeInfo){const{start:e,end:t}=this._queryEngine.timeExtent;j.layerDefinition.timeInfo.timeExtent=[e,t]}return j}async applyEdits(e){const{spatialReference:t,geometryType:s}=this._queryEngine;return await Promise.all([w(t,s),m(e.adds,t),m(e.updates,t)]),await this._waitSnapshotComplete(),this._applyEdits(e)}async queryFeatures(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQuery(e,t.signal)}async queryFeatureCount(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForCount(e,t.signal)}async queryObjectIds(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForIds(e,t.signal)}async queryExtent(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForExtent(e,t.signal)}async querySnapping(e,t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForSnapping(e,t.signal)}async refresh(e){return this._loadOptions.customParameters=e,this._snapshotTask?.abort(),this._snapshotTask=t(this._snapshotFeatures),this._snapshotTask.promise.then((e=>{this._queryEngine.featureStore.clear(),this._objectIdGenerator=this._createObjectIdGenerator(this._queryEngine,e);const t=this._normalizeFeatures(e);t&&this._queryEngine.featureStore.addMany(t)}),(e=>{this._queryEngine.featureStore.clear(),n(e)||i.getLogger(\"esri.layers.GeoJSONLayer\").error(new s(\"geojson-layer:refresh\",\"An error occurred during refresh\",{error:e}))})),await this._waitSnapshotComplete(),{extent:this._queryEngine.fullExtent,timeExtent:this._queryEngine.timeExtent}}async _createFeatures(e){const{geometryType:t,hasZ:s,objectIdField:i}=this._queryEngine,n=I(e,{geometryType:t,hasZ:s,objectIdField:i});if(!l(this._queryEngine.spatialReference,o))for(const a of n)r(a.geometry)&&(a.geometry=u(f(d(a.geometry,this._queryEngine.geometryType,this._queryEngine.hasZ,!1),o,this._queryEngine.spatialReference)));return n}async _waitSnapshotComplete(){if(this._snapshotTask&&!this._snapshotTask.finished){try{await this._snapshotTask.promise}catch{}return this._waitSnapshotComplete()}}async _fetch(t){const{url:s,customParameters:i}=this._loadOptions,r=(await e(s,{responseType:\"json\",query:{...i},signal:t})).data;return await j(r),r}_normalizeFeatures(e,t,s){const{objectIdField:i}=this._queryEngine,r=[];for(const n of e){const e=this._createDefaultAttributes(),a=T(this._fieldsIndex,e,n.attributes,!0,t);a?s?.push(a):(this._assignObjectId(e,n.attributes,!0),n.attributes=e,n.objectId=e[i],r.push(n))}return r}_applyEdits(e){const{adds:t,updates:s,deletes:i}=e,r={addResults:[],deleteResults:[],updateResults:[],uidToObjectId:{}};if(t&&t.length&&this._applyAddEdits(r,t),s&&s.length&&this._applyUpdateEdits(r,s),i&&i.length){for(const e of i)r.deleteResults.push(q(e));this._queryEngine.featureStore.removeManyById(i)}return{extent:this._queryEngine.fullExtent,timeExtent:this._queryEngine.timeExtent,featureEditResults:r}}_applyAddEdits(e,t){const{addResults:s}=e,{geometryType:i,hasM:n,hasZ:o,objectIdField:l,spatialReference:u,featureStore:d}=this._queryEngine,c=[];for(const p of t){if(p.geometry&&i!==a(p.geometry)){s.push(x(\"Incorrect geometry type.\"));continue}const t=this._createDefaultAttributes(),n=T(this._fieldsIndex,t,p.attributes);if(n)s.push(n);else{if(this._assignObjectId(t,p.attributes),p.attributes=t,null!=p.uid){const t=p.attributes[l];e.uidToObjectId[p.uid]=t}if(r(p.geometry)){const e=p.geometry.spatialReference??u;p.geometry=f(S(p.geometry,e),e,u)}c.push(p),s.push(q(p.attributes[l]))}}d.addMany(p([],c,i,o,n,l))}_applyUpdateEdits({updateResults:e},t){const{geometryType:s,hasM:i,hasZ:n,objectIdField:o,spatialReference:l,featureStore:u}=this._queryEngine;for(const d of t){const{attributes:t,geometry:p}=d,h=t&&t[o];if(null==h){e.push(x(`Identifier field ${o} missing`));continue}if(!u.has(h)){e.push(x(`Feature with object id ${h} missing`));continue}const m=c(u.getFeature(h),s,n,i);if(r(p)){if(s!==a(p)){e.push(x(\"Incorrect geometry type.\"));continue}const t=p.spatialReference??l;m.geometry=f(S(p,t),t,l)}if(t){const s=T(this._fieldsIndex,m.attributes,t);if(s){e.push(s);continue}}u.add(y(m,s,n,i,o)),e.push(q(h))}}_createObjectIdGenerator(e,t){const s=e.fieldsIndex.get(e.objectIdField);if(\"esriFieldTypeString\"===s.type)return()=>s.name+\"-\"+Date.now().toString(16);let i=Number.NEGATIVE_INFINITY;for(const r of t)r.objectId&&(i=Math.max(i,r.objectId));return i=Math.max(0,i)+1,()=>i++}_assignObjectId(e,t,s=!1){const i=this._queryEngine.objectIdField;e[i]=s&&i in t?t[i]:this._objectIdGenerator()}async _checkProjection(e){try{await m(o,e)}catch{throw new s(\"geojson-layer\",\"Projection not supported\")}}}export{C as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import{OptimizedFeature as t}from\"../../OptimizedFeature.js\";import n from\"../../OptimizedGeometry.js\";import{normalizeFieldName as o,isNumericField as r}from\"../../../support/fieldUtils.js\";const i={LineString:\"esriGeometryPolyline\",MultiLineString:\"esriGeometryPolyline\",MultiPoint:\"esriGeometryMultipoint\",Point:\"esriGeometryPoint\",Polygon:\"esriGeometryPolygon\",MultiPolygon:\"esriGeometryPolygon\"};function s(e){return i[e]}function*c(e){switch(e.type){case\"Feature\":yield e;break;case\"FeatureCollection\":for(const t of e.features)t&&(yield t)}}function*u(e){if(!e)return null;switch(e.type){case\"Point\":yield e.coordinates;break;case\"LineString\":case\"MultiPoint\":yield*e.coordinates;break;case\"MultiLineString\":case\"Polygon\":for(const t of e.coordinates)yield*t;break;case\"MultiPolygon\":for(const t of e.coordinates)for(const e of t)yield*e}}function*l(e,o={}){const{geometryType:r,objectIdField:i}=o;for(const c of e){const{geometry:e,properties:u,id:l}=c;if(e&&s(e.type)!==r)continue;const f=u||{};let a=f[i]??null;i&&null!=l&&!f[i]&&(f[i]=a=l);const y=new t(e?g(new n,e,o):null,f,null,a);yield y}}function f(e){for(const t of e)if(t.length>2)return!0;return!1}function a(e){return!p(e)}function y(e){return p(e)}function p(e){let t=0;for(let n=0;n<e.length;n++){const o=e[n],r=e[(n+1)%e.length];t+=o[0]*r[1]-r[0]*o[1]}return t<=0}function d(e){const t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]||e.push(t),e}function g(e,t,n){switch(t.type){case\"LineString\":return m(e,t,n);case\"MultiLineString\":return h(e,t,n);case\"MultiPoint\":return w(e,t,n);case\"MultiPolygon\":return P(e,t,n);case\"Point\":return b(e,t,n);case\"Polygon\":return j(e,t,n)}}function m(e,t,n){return G(e,t.coordinates,n),e}function h(e,t,n){for(const o of t.coordinates)G(e,o,n);return e}function w(e,t,n){return G(e,t.coordinates,n),e}function P(e,t,n){for(const o of t.coordinates){S(e,o[0],n);for(let t=1;t<o.length;t++)F(e,o[t],n)}return e}function b(e,t,n){return k(e,t.coordinates,n),e}function j(e,t,n){const o=t.coordinates;S(e,o[0],n);for(let r=1;r<o.length;r++)F(e,o[r],n);return e}function S(e,t,n){const o=d(t);a(o)?M(e,o,n):G(e,o,n)}function F(e,t,n){const o=d(t);y(o)?M(e,o,n):G(e,o,n)}function G(e,t,n){for(const o of t)k(e,o,n);e.lengths.push(t.length)}function M(e,t,n){for(let o=t.length-1;o>=0;o--)k(e,t[o],n);e.lengths.push(t.length)}function k(e,t,n){const[o,r,i]=t;e.coords.push(o,r),n.hasZ&&e.coords.push(i||0)}function O(e){switch(typeof e){case\"string\":return\"esriFieldTypeString\";case\"number\":return\"esriFieldTypeDouble\";default:return\"unknown\"}}function T(t){if(!t)throw new e(\"geojson-layer:empty\",\"GeoJSON data is empty\");if(\"Feature\"!==t.type&&\"FeatureCollection\"!==t.type)throw new e(\"geojson-layer:unsupported-geojson-object\",\"missing or not supported GeoJSON object type\",{data:t});const{crs:n}=t;if(!n)return;const o=\"string\"==typeof n?n:\"name\"===n.type?n.properties.name:\"EPSG\"===n.type?n.properties.code:null,r=new RegExp(\".*(CRS84H?|4326)$\",\"i\");if(!o||!r.test(o))throw new e(\"geojson-layer:unsupported-crs\",\"unsupported GeoJSON 'crs' member\",{crs:n})}function L(e,t={}){const n=[],i=new Set,l=new Set;let a,y=!1,p=null,d=!1,{geometryType:g=null}=t,m=!1;for(const r of c(e)){const{geometry:e,properties:t,id:c}=r;if(!e||(g||(g=s(e.type)),s(e.type)===g)){if(!y){y=f(u(e))}if(d||(d=null!=c,d&&(a=typeof c,p=Object.keys(t).filter((e=>t[e]===c)))),d&&null!=c&&(p.length>1?p=p.filter((e=>t[e]===c)):1===p.length&&(p=t[p[0]]===c?p:[])),!m&&t){let e=!0;for(const r in t){if(i.has(r))continue;const s=t[r];if(null==s){e=!1,l.add(r);continue}const c=O(s);\"unknown\"!==c?(l.delete(r),i.add(r),n.push({name:o(r),alias:r,type:c})):l.add(r)}m=e}}}const h=o(1===p?.length&&p[0]||null);if(h)for(const o of n)if(o.name===h&&r(o)){o.type=\"esriFieldTypeOID\";break}return{fields:n,geometryType:g,hasZ:y,objectIdFieldName:h,objectIdFieldType:a,unknownFields:Array.from(l)}}function I(e,t){return Array.from(l(c(e),t))}export{I as createOptimizedFeatures,s as getGeometryType,L as inferLayerProperties,T as validateGeoJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{clone as t}from\"../../../../core/lang.js\";import{queryCapabilities as s}from\"../../data/QueryEngineCapabilities.js\";import{defaultPointSymbolJSON as e,defaultPolylineSymbolJSON as r,defaultPolygonSymbolJSON as p}from\"../../../../symbols/support/defaultsJSON.js\";function o(t){return{renderer:{type:\"simple\",symbol:\"esriGeometryPoint\"===t||\"esriGeometryMultipoint\"===t?e:\"esriGeometryPolyline\"===t?r:p}}}const u=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;let n=1;function i(t,s){if(has(\"esri-csp-restrictions\"))return()=>({[s]:null,...t});try{let e=`this.${s} = null;`;for(const s in t){e+=`this${u.test(s)?`.${s}`:`[\"${s}\"]`} = ${JSON.stringify(t[s])};`}const r=new Function(`\\n      return class AttributesClass$${n++} {\\n        constructor() {\\n          ${e};\\n        }\\n      }\\n    `)();return()=>new r}catch(e){return()=>({[s]:null,...t})}}function a(s={}){return[{name:\"New Feature\",description:\"\",prototype:{attributes:t(s)}}]}function l(t,e){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:t},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:e,supportsDelete:e,supportsEditing:e,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:e,supportsExceedsLimitStatistics:!0},query:s,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},editing:{supportsGeometryUpdate:e,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1}}}export{l as createCapabilities,i as createDefaultAttributesFunction,a as createDefaultTemplate,o as createDrawingInfo};\n"],"names":["O","hasAttachments","capabilities","useStandardizedQueries","supportsCoordinatesQuantization","supportsReturningQueryGeometry","advancedQueryCapabilities","supportsQueryAttachments","supportsStatistics","supportsPercentileStatistics","supportsReturningGeometryCentroid","supportsQueryWithDistance","supportsDistinct","supportsReturningQueryExtent","supportsReturningGeometryProperties","supportsHavingClause","supportsOrderBy","supportsPagination","supportsQueryWithResultType","supportsSqlExpression","supportsDisjointSpatialRel","C","constructor","this","_queryEngine","_snapshotFeatures","async","t","_fetch","e","_createFeatures","destroy","_fieldsIndex","_createDefaultAttributes","_loadOptions","url","customParameters","i","_checkProjection","spatialReference","r","signal","n","geometryType","a","fields","l","hasZ","u","d","objectIdField","objectIdFieldName","p","c","timeInfo","unknownFields","length","push","name","message","details","y","get","type","editable","nullable","alias","objectIdFieldType","unshift","m","o","field","f","requiredFields","indexOf","splice","startTimeField","endTimeField","trackIdField","I","j","warnings","featureErrors","layerDefinition","drawingInfo","templates","extent","hasM","featureStore","cacheSpatialQueries","w","_objectIdGenerator","_createObjectIdGenerator","T","_normalizeFeatures","addMany","fullExtent","start","end","timeExtent","s","Promise","all","adds","updates","_waitSnapshotComplete","_applyEdits","executeQuery","executeQueryForCount","executeQueryForIds","executeQueryForExtent","executeQueryForSnapping","_snapshotTask","abort","promise","then","clear","error","geometry","finished","responseType","query","data","attributes","_assignObjectId","objectId","deletes","addResults","deleteResults","updateResults","uidToObjectId","_applyAddEdits","_applyUpdateEdits","removeManyById","featureEditResults","uid","h","has","getFeature","add","fieldsIndex","Date","now","toString","Number","NEGATIVE_INFINITY","Math","max","LineString","MultiLineString","MultiPoint","Point","Polygon","MultiPolygon","features","coordinates","properties","id","g","P","b","G","S","F","k","M","lengths","coords","crs","code","RegExp","test","L","Set","Object","keys","filter","delete","Array","from","renderer","symbol","JSON","stringify","Function","description","prototype","analytics","supportsCacheHint","attachment","isVersioned","supportsAttachment","supportsM","supportsZ","metadata","supportsAdvancedFieldProperties","operations","supportsCalculate","supportsTruncate","supportsValidateSql","supportsAdd","supportsDelete","supportsEditing","supportsChangeTracking","supportsQuery","supportsQueryAnalytics","supportsQueryTopFeatures","supportsResizeAttachments","supportsSync","supportsUpdate","supportsExceedsLimitStatistics","queryRelated","supportsCount","queryTopFeatures","editing","supportsGeometryUpdate","supportsGlobalId","supportsReturnServiceEditsInSourceSpatialReference","supportsRollbackOnFailure","supportsUpdateWithoutM","supportsUploadWithItemId","supportsDeleteByAnonymous","supportsDeleteByOthers","supportsUpdateByAnonymous","supportsUpdateByOthers"],"sourceRoot":""}