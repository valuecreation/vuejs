{"version":3,"file":"js/8504.f9b2630c.js","mappings":"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","sources":["webpack://my-project/./node_modules/@arcgis/core/core/fontUtils.js","webpack://my-project/./node_modules/@arcgis/core/views/support/colorUtils.js","webpack://my-project/./node_modules/@arcgis/core/symbols/support/previewSymbol2D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../config.js\";const t=-26,r=-18,n=\"woff2\",s=new Map;async function o(t){const r=i(t);let o=s.get(r);if(o)return o;const a=new FontFace(t.family,`url('${e.fontsUrl}/woff2/${r}.${n}') format('${n}')`),u=document.fonts;return u.has(a)&&\"loading\"===a.status?a.loaded:(o=a.load(),s.set(r,o),u.add(a),o)}function a(e){if(!e)return\"arial-unicode-ms\";const t=e.toLowerCase().split(\" \").join(\"-\");switch(t){case\"serif\":return\"noto-serif\";case\"sans-serif\":return\"arial-unicode-ms\";case\"monospace\":return\"ubuntu-mono\";case\"fantasy\":return\"cabin-sketch\";case\"cursive\":return\"redressed\";default:return t}}function i(e){const t=c(e)+f(e);return a(e.family)+(t.length>0?t:\"-regular\")}function u(e){switch(e){case\"underline\":return t;case\"line-through\":return r}return NaN}function c(e){if(!e.weight)return\"\";switch(e.weight.toLowerCase()){case\"bold\":case\"bolder\":return\"-bold\"}return\"\"}function f(e){if(!e.style)return\"\";switch(e.style.toLowerCase()){case\"italic\":case\"oblique\":return\"-italic\"}return\"\"}export{u as getFontDecorationTop,a as getFontFamily,i as getFullyQualifiedFontName,o as loadFont};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport t from\"../../Color.js\";import{isSome as r}from\"../../core/maybe.js\";async function n(r){await r.whenReady();const n=r.basemapView.baseLayerViews.map((t=>t.layer));if(!n.length){const n=getComputedStyle(r.container).backgroundColor,a=n&&new t(n);return r.get(\"background.color\")||(a&&0!==a.a?a:null)||null}const a=(await r.takeScreenshot({format:\"png\",layers:n.toArray()})).data.data,o=a.length;let e=0,u=0,l=0,c=0,s=0,i=0;for(let t=0;t<o;t+=4){const r=a[t],n=a[t+1],o=a[t+2],h=a[t+3],d=h/255;e+=r*r*d,u+=n*n*d,l+=o*o*d,s+=d,h&&(c+=h,i++)}e=Math.round(Math.sqrt(e/s)),u=Math.round(Math.sqrt(u/s)),l=Math.round(Math.sqrt(l/s));return new t([e,u,l,c/i/255])}async function a(t){if(!t)return null;const a=await n(t);return r(a)?o(a):null}function o(t){return e(t).isBright?\"light\":\"dark\"}function e(r){let{r:n,g:a,b:o,a:e}=r;return e<1&&(n=Math.round(e*n+255*(1-e)),a=Math.round(e*a+255*(1-e)),o=Math.round(e*o+255*(1-e))),new t({r:n,g:a,b:o})}function u(t){const{r,g:n,b:a}=e(t);return.2126*r+.7152*n+.0722*a}export{n as getBackgroundColor,a as getBackgroundColorTheme,u as getColorLuminance,o as getColorTheme};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.25/esri/copyright.txt for details.\n*/\nimport e from\"../../Color.js\";import t from\"../../core/Error.js\";import{loadFont as a}from\"../../core/fontUtils.js\";import{pt2px as n,px2pt as l}from\"../../core/screenUtils.js\";import{getFill as i,getStroke as s,getPatternUrlWithColor as o}from\"./gfxUtils.js\";import{SymbolSizeDefaults as r,shapes as c,adjustColorBrightness as m}from\"./previewUtils.js\";import{renderSymbol as u}from\"./renderUtils.js\";import{getColorLuminance as h}from\"../../views/support/colorUtils.js\";const p=\"picture-fill\",d=\"picture-marker\",f=\"simple-fill\",y=\"simple-line\",w=\"simple-marker\",g=\"text\",v=\"Aa\",b=r.size,x=r.maxSize,k=r.maxOutlineSize,M=r.lineWidth,z=225,L=document.createElement(\"canvas\");function j(e,t){const a=L.getContext(\"2d\"),n=[];return t&&(t.weight&&n.push(t.weight),t.size&&n.push(t.size+\"px\"),t.family&&n.push(t.family)),a.font=n.join(\" \"),a.measureText(e).width}const C=7.2/2.54,S=72/2.54;function F(e){if(0===e.length)return 0;if(e.length>2){const t=l(1),a=parseFloat(e);switch(e.slice(-2)){case\"px\":return a;case\"pt\":return a*t;case\"in\":return 72*a*t;case\"pc\":return 12*a*t;case\"mm\":return a*C*t;case\"cm\":return a*S*t}}return parseFloat(e)}function E(e){const t=e?.size;return{width:null!=t&&\"object\"==typeof t&&\"width\"in t?n(t.width):null,height:null!=t&&\"object\"==typeof t&&\"height\"in t?n(t.height):null}}async function U(e,t){const a=t.fill,n=e.color;if(\"pattern\"===a?.type&&n&&e.type!==p){const e=await o(a.src,n.toCss(!0));a.src=e,t.fill=a}}async function Z(e,t,n,l){if(!(\"font\"in e)||!e.font||\"text\"!==t.shape.type)return;try{await a(e.font)}catch{}const{width:i}=E(l),s=/[\\uE600-\\uE6FF]/.test(t.shape.text);null!=i||s||(n[0]=j(t.shape.text,{weight:t.font.weight,size:t.font.size,family:t.font.family}))}function q(e,t){return e>t?\"dark\":\"light\"}function D(e,t){const a=\"number\"==typeof t?.size?t?.size:null,l=null!=a?n(a):null,o=null!=t?.maxSize?n(t.maxSize):null,r=null!=t?.rotation?t.rotation:\"angle\"in e?e.angle:null,m=i(e);let u=s(e);\"dark\"!==T(e,245)||t?.ignoreWhiteSymbols||(u={width:.75,...u,color:\"#bdc3c7\"});const h={shape:null,fill:m,stroke:u,offset:[0,0]};u?.width&&(u.width=Math.min(u.width,k));const z=u?.width||0;let L=null!=t?.size&&(null==t?.scale||t?.scale),C=0,S=0,U=!1;switch(e.type){case w:{const a=e.style,{width:i,height:s}=E(t),c=i===s&&null!=i?i:null!=l?l:Math.min(n(e.size),o||x);switch(C=c,S=c,a){case\"circle\":h.shape={type:\"circle\",cx:0,cy:0,r:.5*c},L||(C+=z,S+=z);break;case\"cross\":h.shape={type:\"path\",path:[{command:\"M\",values:[0,.5*S]},{command:\"L\",values:[C,.5*S]},{command:\"M\",values:[.5*C,0]},{command:\"L\",values:[.5*C,S]}]};break;case\"diamond\":h.shape={type:\"path\",path:[{command:\"M\",values:[0,.5*S]},{command:\"L\",values:[.5*C,0]},{command:\"L\",values:[C,.5*S]},{command:\"L\",values:[.5*C,S]},{command:\"Z\",values:[]}]},L||(C+=z,S+=z);break;case\"square\":h.shape={type:\"path\",path:[{command:\"M\",values:[0,0]},{command:\"L\",values:[C,0]},{command:\"L\",values:[C,S]},{command:\"L\",values:[0,S]},{command:\"Z\",values:[]}]},L||(C+=z,S+=z),r&&(U=!0);break;case\"triangle\":h.shape={type:\"path\",path:[{command:\"M\",values:[.5*C,0]},{command:\"L\",values:[C,S]},{command:\"L\",values:[0,S]},{command:\"Z\",values:[]}]},L||(C+=z,S+=z),r&&(U=!0);break;case\"x\":h.shape={type:\"path\",path:[{command:\"M\",values:[0,0]},{command:\"L\",values:[C,S]},{command:\"M\",values:[C,0]},{command:\"L\",values:[0,S]}]},r&&(U=!0);break;case\"path\":h.shape={type:\"path\",path:e.path||\"\"},L||(C+=z,S+=z),r&&(U=!0),L=!0}break}case y:{const{width:e,height:a}=E(t),n=null!=a?a:null!=l?l:z,i=null!=e?e:M;u&&(u.width=n),C=i,S=n;const s=h?.stroke?.cap||\"butt\",o=\"round\"===s;L=!0,h.stroke&&(h.stroke.cap=\"butt\"===s?\"square\":s),h.shape={type:\"path\",path:[{command:\"M\",values:[o?n/2:0,S/2]},{command:\"L\",values:[o?C-n/2:C,S/2]}]};break}case p:case f:{const e=\"object\"==typeof t?.symbolConfig&&t?.symbolConfig.isSquareFill,{width:a,height:n}=E(t);C=!e&&a!==n||null==a?null!=l?l:b:a,S=!e&&a!==n||null==n?C:n,L||(C+=z,S+=z),L=!0,h.shape=e?{type:\"path\",path:[{command:\"M\",values:[0,0]},{command:\"L\",values:[C,0]},{command:\"L\",values:[C,S]},{command:\"L\",values:[0,S]},{command:\"L\",values:[0,0]},{command:\"Z\",values:[]}]}:c.fill[0];break}case d:{const a=Math.min(n(e.width),o||x),i=Math.min(n(e.height),o||x),{width:s,height:c}=E(t),m=s===c&&null!=s?s:null!=l?l:Math.max(a,i),u=a/i;C=u<=1?Math.ceil(m*u):m,S=u<=1?m:Math.ceil(m/u),h.shape={type:\"image\",x:-Math.round(C/2),y:-Math.round(S/2),width:C,height:S,src:e.url||\"\"},r&&(U=!0);break}case g:{const a=e,i=t?.overrideText||a.text||v,s=a.font,{width:r,height:c}=E(t),m=null!=c?c:null!=l?l:Math.min(n(s.size),o||x),u=j(i,{weight:s.weight,size:m,family:s.family}),p=/[\\uE600-\\uE6FF]/.test(i);C=r??(p?m:u),S=m;let d=.25*F((s?m:0).toString());p&&(d+=5),h.shape={type:\"text\",text:i,x:a.xoffset||0,y:a.yoffset||d,align:\"middle\",alignBaseline:a.verticalAlignment,decoration:s&&s.decoration,rotated:a.rotated,kerning:a.kerning},h.font=s&&{size:m,style:s.style,decoration:s.decoration,weight:s.weight,family:s.family};break}}return{shapeDescriptor:h,size:[C,S],renderOptions:{node:t?.node,scale:L,opacity:t?.opacity,rotation:r,useRotationSize:U,effectView:t?.effectView}}}async function O(e,a){const{shapeDescriptor:n,size:l,renderOptions:i}=D(e,a);if(!n.shape)throw new t(\"symbolPreview: renderPreviewHTML2D\",\"symbol not supported.\");await U(e,n),await Z(e,n,l,a);const s=[[n]];if(\"object\"==typeof a?.symbolConfig&&a?.symbolConfig.applyColorModulation){const e=.6*l[0];s.unshift([{...n,offset:[-e,0],fill:m(n.fill,-.3)}]),s.push([{...n,offset:[e,0],fill:m(n.fill,.3)}]),l[0]+=2*e,i.scale=!1}return u(s,l,i)}function T(t,a=z){const n=i(t),l=s(t),o=!n||\"type\"in n?null:new e(n),r=l?.color?new e(l?.color):null,c=o?q(h(o),a):null,m=r?q(h(r),a):null;return m?c?c===m?c:a>=z?\"light\":\"dark\":m:c}export{T as getContrastingBackgroundTheme,D as getRenderSymbolParameters,O as previewSymbol2D};\n"],"names":["async","o","t","r","i","s","get","a","FontFace","family","n","u","document","fonts","has","status","loaded","load","set","add","e","toLowerCase","split","join","c","f","length","weight","style","g","b","Math","round","p","d","y","w","v","x","k","M","z","L","createElement","j","getContext","push","size","font","measureText","width","C","S","F","parseFloat","slice","E","height","U","fill","color","type","src","toCss","Z","l","shape","test","text","q","D","maxSize","rotation","angle","m","T","ignoreWhiteSymbols","h","stroke","offset","min","scale","cx","cy","path","command","values","cap","symbolConfig","isSquareFill","max","ceil","url","overrideText","toString","xoffset","yoffset","align","alignBaseline","verticalAlignment","decoration","rotated","kerning","shapeDescriptor","renderOptions","node","opacity","useRotationSize","effectView","O","applyColorModulation","unshift"],"sourceRoot":""}