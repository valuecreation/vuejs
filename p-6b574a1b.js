/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.0-beta.98
 */
import{f as t,h as o}from"./p-452677fb.js";import{a as e}from"./p-0d071f85.js";import{S as n}from"./p-4f5d5947.js";import{S as a}from"./p-96032ed1.js";const i=150,c=t=>t.reduce(((t,e)=>t+e),0)/t.length,l=t=>{const e=null==t?void 0:t.length;return{actionWidth:e?c(t.map((t=>t.clientWidth||0))):0,actionHeight:e?c(t.map((t=>t.clientHeight||0))):0}},r=({layout:t,actionCount:e,actionWidth:o,width:n,actionHeight:i,height:a,groupCount:l})=>Math.max(e-(({width:t,actionWidth:e,layout:o,height:n,actionHeight:i,groupCount:a})=>Math.floor((("horizontal"===o?t:n)-2*a)/("horizontal"===o?e:i)))({width:n,actionWidth:o,layout:t,height:a,actionHeight:i,groupCount:l}),0),s=t=>Array.from(t.querySelectorAll("calcite-action")).filter((t=>!t.closest("calcite-action-menu")||t.slot===n.trigger)),p=({actionGroups:e,expanded:o,overflowCount:n})=>{let i=n;e.reverse().forEach((e=>{let n=0;const l=s(e).reverse();l.forEach((t=>{t.slot===a.menuActions&&(t.removeAttribute("slot"),t.textEnabled=o)})),i>0&&l.some((t=>(l.filter((t=>!t.slot)).length>1&&l.length>2&&!t.closest("calcite-action-menu")&&(t.textEnabled=!0,t.setAttribute("slot",a.menuActions),n++,n>1&&i--),i<1))),t(e)}))};function d({parent:t,expanded:e}){s(t).filter((t=>t.slot!==a.menuActions)).forEach((t=>t.textEnabled=e)),t.querySelectorAll("calcite-action-group, calcite-action-menu").forEach((t=>t.expanded=e))}const h=({expanded:t,intlExpand:n,intlCollapse:i,toggle:a,el:l,position:r,tooltip:c,ref:s,scale:h})=>{const d="rtl"===e(l),p=t?i:n,u=["chevrons-left","chevrons-right"];d&&u.reverse();const f="end"===function(t,e){var o;return t||(null===(o=e.closest("calcite-shell-panel"))||void 0===o?void 0:o.position)||"start"}(r,l);return o("calcite-action",{icon:t?f?u[1]:u[0]:f?u[0]:u[1],onClick:a,ref:e=>(({tooltip:t,referenceElement:e,expanded:o,ref:n})=>(t&&(t.referenceElement=!o&&e?e:null),n&&n(e),e))({tooltip:c,referenceElement:e,expanded:t,ref:s}),scale:h,text:p,textEnabled:t})};export{h as E,p as a,r as b,l as g,i as o,s as q,d as t};