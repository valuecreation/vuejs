/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.0-beta.98
 */
import{c as n}from"./p-0d071f85.js";import{h as t}from"./p-452677fb.js";function e(e){return"checked"in e}const o=new WeakMap,i=new WeakSet;function r(e){const{formEl:t}=e;return!!t&&("requestSubmit"in t?t.requestSubmit():t.submit(),!0)}function s(e){var t;null===(t=e.formEl)||void 0===t||t.reset()}function u(t){const{el:a,value:r}=t,d=n(a,"form");if(!d||function(e,t){const n="calciteInternalFormComponentRegister";let o=!1;return e.addEventListener(n,(e=>{o=e.composedPath().some((e=>i.has(e))),e.stopPropagation()}),{once:!0}),t.dispatchEvent(new CustomEvent(n,{bubbles:!0,composed:!0})),o}(d,a))return;t.formEl=d,t.defaultValue=r,e(t)&&(t.defaultChecked=t.checked);const s=(t.onFormReset||c).bind(t);d.addEventListener("reset",s),o.set(t.el,s),i.add(a)}function c(){e(this)?this.checked=this.defaultChecked:this.value=this.defaultValue}function l(e){const{el:t,formEl:n}=e;if(!n)return;const a=o.get(t);n.removeEventListener("reset",a),o.delete(t),e.formEl=null,i.delete(t)}function a(e,t){e.defaultValue=t}const f=e=>{e.target.dispatchEvent(new CustomEvent("calciteInternalHiddenInputChange",{bubbles:!0}))},m=e=>e.removeEventListener("change",f);function d(t,n,o){var a;const{defaultValue:r,disabled:d,name:s,required:u}=t;n.defaultValue=r,n.disabled=d,n.name=s,n.required=u,n.tabIndex=-1,e(t)?(n.defaultChecked=t.defaultChecked,n.value=t.checked?o||"on":"",d||t.checked||(n.disabled=!0)):n.value=o||"",null===(a=t.syncHiddenFormInput)||void 0===a||a.call(t,n)}const p=({component:e})=>(function(e){const{el:t,formEl:n,name:o,value:a}=e,{ownerDocument:r}=t,s=t.querySelectorAll('input[slot="hidden-form-input"]');if(!n||!o)return void s.forEach((e=>{m(e),e.remove()}));const u=Array.isArray(a)?a:[a],c=[],l=new Set;let i;s.forEach((t=>{const n=u.find((e=>e==t.value));null!=n?(l.add(n),d(e,t,n)):c.push(t)})),u.forEach((t=>{if(l.has(t))return;let n=c.pop();n||(n=r.createElement("input"),n.slot="hidden-form-input"),i||(i=r.createDocumentFragment()),i.append(n),n.addEventListener("change",f),d(e,n,t)})),i&&t.append(i),c.forEach((e=>{m(e),e.remove()}))}(e),t("slot",{name:"hidden-form-input"}));export{p as H,a,u as c,l as d,s as r,r as s};